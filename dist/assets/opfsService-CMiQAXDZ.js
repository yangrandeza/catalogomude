import{A as Nt,E as ne}from"./index-CQAG8VK0.js";function Ct(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ht={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,i){(function(n){t.exports=n()})(function(){return function n(h,u,e){function l(m,w){if(!u[m]){if(!h[m]){var b=typeof Ct=="function"&&Ct;if(!w&&b)return b(m,!0);if(s)return s(m,!0);var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}var c=u[m]={exports:{}};h[m][0].call(c.exports,function(_){var f=h[m][1][_];return l(f||_)},c,c.exports,n,h,u,e)}return u[m].exports}for(var s=typeof Ct=="function"&&Ct,a=0;a<e.length;a++)l(e[a]);return l}({1:[function(n,h,u){var e=n("./utils"),l=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(a){for(var m,w,b,v,c,_,f,g=[],d=0,k=a.length,x=k,N=e.getTypeOf(a)!=="string";d<a.length;)x=k-d,b=N?(m=a[d++],w=d<k?a[d++]:0,d<k?a[d++]:0):(m=a.charCodeAt(d++),w=d<k?a.charCodeAt(d++):0,d<k?a.charCodeAt(d++):0),v=m>>2,c=(3&m)<<4|w>>4,_=1<x?(15&w)<<2|b>>6:64,f=2<x?63&b:64,g.push(s.charAt(v)+s.charAt(c)+s.charAt(_)+s.charAt(f));return g.join("")},u.decode=function(a){var m,w,b,v,c,_,f=0,g=0,d="data:";if(a.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var k,x=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===s.charAt(64)&&x--,a.charAt(a.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=l.uint8array?new Uint8Array(0|x):new Array(0|x);f<a.length;)m=s.indexOf(a.charAt(f++))<<2|(v=s.indexOf(a.charAt(f++)))>>4,w=(15&v)<<4|(c=s.indexOf(a.charAt(f++)))>>2,b=(3&c)<<6|(_=s.indexOf(a.charAt(f++))),k[g++]=m,c!==64&&(k[g++]=w),_!==64&&(k[g++]=b);return k}},{"./support":30,"./utils":32}],2:[function(n,h,u){var e=n("./external"),l=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),a=n("./stream/DataLengthProbe");function m(w,b,v,c,_){this.compressedSize=w,this.uncompressedSize=b,this.crc32=v,this.compression=c,this.compressedContent=_}m.prototype={getContentWorker:function(){var w=new l(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),b=this;return w.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new l(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(w,b,v){return w.pipe(new s).pipe(new a("uncompressedSize")).pipe(b.compressWorker(v)).pipe(new a("compressedSize")).withStreamInfo("compression",b)},h.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,h,u){var e=n("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new e("STORE compression")},uncompressWorker:function(){return new e("STORE decompression")}},u.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,h,u){var e=n("./utils"),l=function(){for(var s,a=[],m=0;m<256;m++){s=m;for(var w=0;w<8;w++)s=1&s?3988292384^s>>>1:s>>>1;a[m]=s}return a}();h.exports=function(s,a){return s!==void 0&&s.length?e.getTypeOf(s)!=="string"?function(m,w,b,v){var c=l,_=v+b;m^=-1;for(var f=v;f<_;f++)m=m>>>8^c[255&(m^w[f])];return-1^m}(0|a,s,s.length,0):function(m,w,b,v){var c=l,_=v+b;m^=-1;for(var f=v;f<_;f++)m=m>>>8^c[255&(m^w.charCodeAt(f))];return-1^m}(0|a,s,s.length,0):0}},{"./utils":32}],5:[function(n,h,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(n,h,u){var e=null;e=typeof Promise<"u"?Promise:n("lie"),h.exports={Promise:e}},{lie:37}],7:[function(n,h,u){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),s=n("./utils"),a=n("./stream/GenericWorker"),m=e?"uint8array":"array";function w(b,v){a.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=v,this.meta={}}u.magic="\b\0",s.inherits(w,a),w.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(m,b.data),!1)},w.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(v){b.push({data:v,meta:b.meta})}},u.compressWorker=function(b){return new w("Deflate",b)},u.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,h,u){function e(c,_){var f,g="";for(f=0;f<_;f++)g+=String.fromCharCode(255&c),c>>>=8;return g}function l(c,_,f,g,d,k){var x,N,A=c.file,L=c.compression,F=k!==m.utf8encode,M=s.transformTo("string",k(A.name)),z=s.transformTo("string",m.utf8encode(A.name)),Z=A.comment,K=s.transformTo("string",k(Z)),E=s.transformTo("string",m.utf8encode(Z)),P=z.length!==A.name.length,o=E.length!==Z.length,R="",Q="",W="",tt=A.dir,H=A.date,D={crc32:0,compressedSize:0,uncompressedSize:0};_&&!f||(D.crc32=c.crc32,D.compressedSize=c.compressedSize,D.uncompressedSize=c.uncompressedSize);var O=0;_&&(O|=8),F||!P&&!o||(O|=2048);var I=0,q=0;tt&&(I|=16),d==="UNIX"?(q=798,I|=function(G,st){var ft=G;return G||(ft=st?16893:33204),(65535&ft)<<16}(A.unixPermissions,tt)):(q=20,I|=function(G){return 63&(G||0)}(A.dosPermissions)),x=H.getUTCHours(),x<<=6,x|=H.getUTCMinutes(),x<<=5,x|=H.getUTCSeconds()/2,N=H.getUTCFullYear()-1980,N<<=4,N|=H.getUTCMonth()+1,N<<=5,N|=H.getUTCDate(),P&&(Q=e(1,1)+e(w(M),4)+z,R+="up"+e(Q.length,2)+Q),o&&(W=e(1,1)+e(w(K),4)+E,R+="uc"+e(W.length,2)+W);var X="";return X+=`
\0`,X+=e(O,2),X+=L.magic,X+=e(x,2),X+=e(N,2),X+=e(D.crc32,4),X+=e(D.compressedSize,4),X+=e(D.uncompressedSize,4),X+=e(M.length,2),X+=e(R.length,2),{fileRecord:b.LOCAL_FILE_HEADER+X+M+R,dirRecord:b.CENTRAL_FILE_HEADER+e(q,2)+X+e(K.length,2)+"\0\0\0\0"+e(I,4)+e(g,4)+M+R+K}}var s=n("../utils"),a=n("../stream/GenericWorker"),m=n("../utf8"),w=n("../crc32"),b=n("../signature");function v(c,_,f,g){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=f,this.encodeFileName=g,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(v,a),v.prototype.push=function(c){var _=c.meta.percent||0,f=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,a.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:f?(_+100*(f-g-1))/f:100}}))},v.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var _=this.streamFiles&&!c.file.dir;if(_){var f=l(c,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(c){this.accumulate=!1;var _=this.streamFiles&&!c.file.dir,f=l(c,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),_)this.push({data:function(g){return b.DATA_DESCRIPTOR+e(g.crc32,4)+e(g.compressedSize,4)+e(g.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var c=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var f=this.bytesWritten-c,g=function(d,k,x,N,A){var L=s.transformTo("string",A(N));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+e(d,2)+e(d,2)+e(k,4)+e(x,4)+e(L.length,2)+L}(this.dirRecords.length,f,c,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(c){this._sources.push(c);var _=this;return c.on("data",function(f){_.processChunk(f)}),c.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),c.on("error",function(f){_.error(f)}),this},v.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(c){var _=this._sources;if(!a.prototype.error.call(this,c))return!1;for(var f=0;f<_.length;f++)try{_[f].error(c)}catch{}return!0},v.prototype.lock=function(){a.prototype.lock.call(this);for(var c=this._sources,_=0;_<c.length;_++)c[_].lock()},h.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,h,u){var e=n("../compressions"),l=n("./ZipFileWorker");u.generateWorker=function(s,a,m){var w=new l(a.streamFiles,m,a.platform,a.encodeFileName),b=0;try{s.forEach(function(v,c){b++;var _=function(k,x){var N=k||x,A=e[N];if(!A)throw new Error(N+" is not a valid compression method !");return A}(c.options.compression,a.compression),f=c.options.compressionOptions||a.compressionOptions||{},g=c.dir,d=c.date;c._compressWorker(_,f).withStreamInfo("file",{name:v,dir:g,date:d,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(w)}),w.entriesCount=b}catch(v){w.error(v)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,h,u){function e(){if(!(this instanceof e))return new e;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new e;for(var s in this)typeof this[s]!="function"&&(l[s]=this[s]);return l}}(e.prototype=n("./object")).loadAsync=n("./load"),e.support=n("./support"),e.defaults=n("./defaults"),e.version="3.10.1",e.loadAsync=function(l,s){return new e().loadAsync(l,s)},e.external=n("./external"),h.exports=e},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,h,u){var e=n("./utils"),l=n("./external"),s=n("./utf8"),a=n("./zipEntries"),m=n("./stream/Crc32Probe"),w=n("./nodejsUtils");function b(v){return new l.Promise(function(c,_){var f=v.decompressed.getContentWorker().pipe(new m);f.on("error",function(g){_(g)}).on("end",function(){f.streamInfo.crc32!==v.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}h.exports=function(v,c){var _=this;return c=e.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),w.isNode&&w.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",v,!0,c.optimizedBinaryString,c.base64).then(function(f){var g=new a(c);return g.load(f),g}).then(function(f){var g=[l.Promise.resolve(f)],d=f.files;if(c.checkCRC32)for(var k=0;k<d.length;k++)g.push(b(d[k]));return l.Promise.all(g)}).then(function(f){for(var g=f.shift(),d=g.files,k=0;k<d.length;k++){var x=d[k],N=x.fileNameStr,A=e.resolve(x.fileNameStr);_.file(A,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:c.createFolders}),x.dir||(_.file(A).unsafeOriginalName=N)}return g.zipComment.length&&(_.comment=g.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,h,u){var e=n("../utils"),l=n("../stream/GenericWorker");function s(a,m){l.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(m)}e.inherits(s,l),s.prototype._bindStream=function(a){var m=this;(this._stream=a).pause(),a.on("data",function(w){m.push({data:w,meta:{percent:0}})}).on("error",function(w){m.isPaused?this.generatedError=w:m.error(w)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},s.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},h.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,h,u){var e=n("readable-stream").Readable;function l(s,a,m){e.call(this,a),this._helper=s;var w=this;s.on("data",function(b,v){w.push(b)||w._helper.pause(),m&&m(v)}).on("error",function(b){w.emit("error",b)}).on("end",function(){w.push(null)})}n("../utils").inherits(l,e),l.prototype._read=function(){this._helper.resume()},h.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,h,u){h.exports={isNode:typeof Buffer<"u",newBufferFrom:function(e,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,l);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,l)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var l=new Buffer(e);return l.fill(0),l},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"}}},{}],15:[function(n,h,u){function e(A,L,F){var M,z=s.getTypeOf(L),Z=s.extend(F||{},w);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(A=d(A)),Z.createFolders&&(M=g(A))&&k.call(this,M,!0);var K=z==="string"&&Z.binary===!1&&Z.base64===!1;F&&F.binary!==void 0||(Z.binary=!K),(L instanceof b&&L.uncompressedSize===0||Z.dir||!L||L.length===0)&&(Z.base64=!1,Z.binary=!0,L="",Z.compression="STORE",z="string");var E=null;E=L instanceof b||L instanceof a?L:_.isNode&&_.isStream(L)?new f(A,L):s.prepareContent(A,L,Z.binary,Z.optimizedBinaryString,Z.base64);var P=new v(A,E,Z);this.files[A]=P}var l=n("./utf8"),s=n("./utils"),a=n("./stream/GenericWorker"),m=n("./stream/StreamHelper"),w=n("./defaults"),b=n("./compressedObject"),v=n("./zipObject"),c=n("./generate"),_=n("./nodejsUtils"),f=n("./nodejs/NodejsStreamInputAdapter"),g=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var L=A.lastIndexOf("/");return 0<L?A.substring(0,L):""},d=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},k=function(A,L){return L=L!==void 0?L:w.createFolders,A=d(A),this.files[A]||e.call(this,A,null,{dir:!0,createFolders:L}),this.files[A]};function x(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var L,F,M;for(L in this.files)M=this.files[L],(F=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&A(F,M)},filter:function(A){var L=[];return this.forEach(function(F,M){A(F,M)&&L.push(M)}),L},file:function(A,L,F){if(arguments.length!==1)return A=this.root+A,e.call(this,A,L,F),this;if(x(A)){var M=A;return this.filter(function(Z,K){return!K.dir&&M.test(Z)})}var z=this.files[this.root+A];return z&&!z.dir?z:null},folder:function(A){if(!A)return this;if(x(A))return this.filter(function(z,Z){return Z.dir&&A.test(z)});var L=this.root+A,F=k.call(this,L),M=this.clone();return M.root=F.name,M},remove:function(A){A=this.root+A;var L=this.files[A];if(L||(A.slice(-1)!=="/"&&(A+="/"),L=this.files[A]),L&&!L.dir)delete this.files[A];else for(var F=this.filter(function(z,Z){return Z.name.slice(0,A.length)===A}),M=0;M<F.length;M++)delete this.files[F[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var L,F={};try{if((F=s.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");s.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var M=F.comment||this.comment||"";L=c.generateWorker(this,F,M)}catch(z){(L=new a("error")).error(z)}return new m(L,F.type||"string",F.mimeType)},generateAsync:function(A,L){return this.generateInternalStream(A).accumulate(L)},generateNodeStream:function(A,L){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(L)}};h.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,h,u){h.exports=n("stream")},{stream:void 0}],17:[function(n,h,u){var e=n("./DataReader");function l(s){e.call(this,s);for(var a=0;a<this.data.length;a++)s[a]=255&s[a]}n("../utils").inherits(l,e),l.prototype.byteAt=function(s){return this.data[this.zero+s]},l.prototype.lastIndexOfSignature=function(s){for(var a=s.charCodeAt(0),m=s.charCodeAt(1),w=s.charCodeAt(2),b=s.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===a&&this.data[v+1]===m&&this.data[v+2]===w&&this.data[v+3]===b)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(s){var a=s.charCodeAt(0),m=s.charCodeAt(1),w=s.charCodeAt(2),b=s.charCodeAt(3),v=this.readData(4);return a===v[0]&&m===v[1]&&w===v[2]&&b===v[3]},l.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},h.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,h,u){var e=n("../utils");function l(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var a,m=0;for(this.checkOffset(s),a=this.index+s-1;a>=this.index;a--)m=(m<<8)+this.byteAt(a);return this.index+=s,m},readString:function(s){return e.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},h.exports=l},{"../utils":32}],19:[function(n,h,u){var e=n("./Uint8ArrayReader");function l(s){e.call(this,s)}n("../utils").inherits(l,e),l.prototype.readData=function(s){this.checkOffset(s);var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},h.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,h,u){var e=n("./DataReader");function l(s){e.call(this,s)}n("../utils").inherits(l,e),l.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},l.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},l.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},l.prototype.readData=function(s){this.checkOffset(s);var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},h.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,h,u){var e=n("./ArrayReader");function l(s){e.call(this,s)}n("../utils").inherits(l,e),l.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},h.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,h,u){var e=n("../utils"),l=n("../support"),s=n("./ArrayReader"),a=n("./StringReader"),m=n("./NodeBufferReader"),w=n("./Uint8ArrayReader");h.exports=function(b){var v=e.getTypeOf(b);return e.checkSupport(v),v!=="string"||l.uint8array?v==="nodebuffer"?new m(b):l.uint8array?new w(e.transformTo("uint8array",b)):new s(e.transformTo("array",b)):new a(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,h,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,h,u){var e=n("./GenericWorker"),l=n("../utils");function s(a){e.call(this,"ConvertWorker to "+a),this.destType=a}l.inherits(s,e),s.prototype.processChunk=function(a){this.push({data:l.transformTo(this.destType,a.data),meta:a.meta})},h.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,h,u){var e=n("./GenericWorker"),l=n("../crc32");function s(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,e),s.prototype.processChunk=function(a){this.streamInfo.crc32=l(a.data,this.streamInfo.crc32||0),this.push(a)},h.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,h,u){var e=n("../utils"),l=n("./GenericWorker");function s(a){l.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}e.inherits(s,l),s.prototype.processChunk=function(a){if(a){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+a.data.length}l.prototype.processChunk.call(this,a)},h.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,h,u){var e=n("../utils"),l=n("./GenericWorker");function s(a){l.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(w){m.dataIsReady=!0,m.data=w,m.max=w&&w.length||0,m.type=e.getTypeOf(w),m.isPaused||m._tickAndRepeat()},function(w){m.error(w)})}e.inherits(s,l),s.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,m);break;case"uint8array":a=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":a=this.data.slice(this.index,m)}return this.index=m,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},h.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,h,u){function e(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}e.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,s){return this._listeners[l].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,s){if(this._listeners[l])for(var a=0;a<this._listeners[l].length;a++)this._listeners[l][a].call(this,s)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var s=this;return l.on("data",function(a){s.processChunk(a)}),l.on("end",function(){s.end()}),l.on("error",function(a){s.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,s){return this.extraStreamInfo[l]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},h.exports=e},{}],29:[function(n,h,u){var e=n("../utils"),l=n("./ConvertWorker"),s=n("./GenericWorker"),a=n("../base64"),m=n("../support"),w=n("../external"),b=null;if(m.nodestream)try{b=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(_,f){return new w.Promise(function(g,d){var k=[],x=_._internalType,N=_._outputType,A=_._mimeType;_.on("data",function(L,F){k.push(L),f&&f(F)}).on("error",function(L){k=[],d(L)}).on("end",function(){try{var L=function(F,M,z){switch(F){case"blob":return e.newBlob(e.transformTo("arraybuffer",M),z);case"base64":return a.encode(M);default:return e.transformTo(F,M)}}(N,function(F,M){var z,Z=0,K=null,E=0;for(z=0;z<M.length;z++)E+=M[z].length;switch(F){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(K=new Uint8Array(E),z=0;z<M.length;z++)K.set(M[z],Z),Z+=M[z].length;return K;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+F+"'")}}(x,k),A);g(L)}catch(F){d(F)}k=[]}).resume()})}function c(_,f,g){var d=f;switch(f){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=f,this._mimeType=g,e.checkSupport(d),this._worker=_.pipe(new l(d)),_.lock()}catch(k){this._worker=new s("error"),this._worker.error(k)}}c.prototype={accumulate:function(_){return v(this,_)},on:function(_,f){var g=this;return _==="data"?this._worker.on(_,function(d){f.call(g,d.data,d.meta)}):this._worker.on(_,function(){e.delay(f,arguments,g)}),this},resume:function(){return e.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(e.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},_)}},h.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,h,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var e=new ArrayBuffer(0);try{u.blob=new Blob([e],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(e),u.blob=l.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!n("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(n,h,u){for(var e=n("./utils"),l=n("./support"),s=n("./nodejsUtils"),a=n("./stream/GenericWorker"),m=new Array(256),w=0;w<256;w++)m[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;m[254]=m[254]=1;function b(){a.call(this,"utf-8 decode"),this.leftOver=null}function v(){a.call(this,"utf-8 encode")}u.utf8encode=function(c){return l.nodebuffer?s.newBufferFrom(c,"utf-8"):function(_){var f,g,d,k,x,N=_.length,A=0;for(k=0;k<N;k++)(64512&(g=_.charCodeAt(k)))==55296&&k+1<N&&(64512&(d=_.charCodeAt(k+1)))==56320&&(g=65536+(g-55296<<10)+(d-56320),k++),A+=g<128?1:g<2048?2:g<65536?3:4;for(f=l.uint8array?new Uint8Array(A):new Array(A),k=x=0;x<A;k++)(64512&(g=_.charCodeAt(k)))==55296&&k+1<N&&(64512&(d=_.charCodeAt(k+1)))==56320&&(g=65536+(g-55296<<10)+(d-56320),k++),g<128?f[x++]=g:(g<2048?f[x++]=192|g>>>6:(g<65536?f[x++]=224|g>>>12:(f[x++]=240|g>>>18,f[x++]=128|g>>>12&63),f[x++]=128|g>>>6&63),f[x++]=128|63&g);return f}(c)},u.utf8decode=function(c){return l.nodebuffer?e.transformTo("nodebuffer",c).toString("utf-8"):function(_){var f,g,d,k,x=_.length,N=new Array(2*x);for(f=g=0;f<x;)if((d=_[f++])<128)N[g++]=d;else if(4<(k=m[d]))N[g++]=65533,f+=k-1;else{for(d&=k===2?31:k===3?15:7;1<k&&f<x;)d=d<<6|63&_[f++],k--;1<k?N[g++]=65533:d<65536?N[g++]=d:(d-=65536,N[g++]=55296|d>>10&1023,N[g++]=56320|1023&d)}return N.length!==g&&(N.subarray?N=N.subarray(0,g):N.length=g),e.applyFromCharCode(N)}(c=e.transformTo(l.uint8array?"uint8array":"array",c))},e.inherits(b,a),b.prototype.processChunk=function(c){var _=e.transformTo(l.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var f=_;(_=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),_.set(f,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var g=function(k,x){var N;for((x=x||k.length)>k.length&&(x=k.length),N=x-1;0<=N&&(192&k[N])==128;)N--;return N<0||N===0?x:N+m[k[N]]>x?N:x}(_),d=_;g!==_.length&&(l.uint8array?(d=_.subarray(0,g),this.leftOver=_.subarray(g,_.length)):(d=_.slice(0,g),this.leftOver=_.slice(g,_.length))),this.push({data:u.utf8decode(d),meta:c.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=b,e.inherits(v,a),v.prototype.processChunk=function(c){this.push({data:u.utf8encode(c.data),meta:c.meta})},u.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,h,u){var e=n("./support"),l=n("./base64"),s=n("./nodejsUtils"),a=n("./external");function m(f){return f}function w(f,g){for(var d=0;d<f.length;++d)g[d]=255&f.charCodeAt(d);return g}n("setimmediate"),u.newBlob=function(f,g){u.checkSupport("blob");try{return new Blob([f],{type:g})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(f),d.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(f,g,d){var k=[],x=0,N=f.length;if(N<=d)return String.fromCharCode.apply(null,f);for(;x<N;)g==="array"||g==="nodebuffer"?k.push(String.fromCharCode.apply(null,f.slice(x,Math.min(x+d,N)))):k.push(String.fromCharCode.apply(null,f.subarray(x,Math.min(x+d,N)))),x+=d;return k.join("")},stringifyByChar:function(f){for(var g="",d=0;d<f.length;d++)g+=String.fromCharCode(f[d]);return g},applyCanBeUsed:{uint8array:function(){try{return e.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return e.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function v(f){var g=65536,d=u.getTypeOf(f),k=!0;if(d==="uint8array"?k=b.applyCanBeUsed.uint8array:d==="nodebuffer"&&(k=b.applyCanBeUsed.nodebuffer),k)for(;1<g;)try{return b.stringifyByChunk(f,d,g)}catch{g=Math.floor(g/2)}return b.stringifyByChar(f)}function c(f,g){for(var d=0;d<f.length;d++)g[d]=f[d];return g}u.applyFromCharCode=v;var _={};_.string={string:m,array:function(f){return w(f,new Array(f.length))},arraybuffer:function(f){return _.string.uint8array(f).buffer},uint8array:function(f){return w(f,new Uint8Array(f.length))},nodebuffer:function(f){return w(f,s.allocBuffer(f.length))}},_.array={string:v,array:m,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return s.newBufferFrom(f)}},_.arraybuffer={string:function(f){return v(new Uint8Array(f))},array:function(f){return c(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:m,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return s.newBufferFrom(new Uint8Array(f))}},_.uint8array={string:v,array:function(f){return c(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:m,nodebuffer:function(f){return s.newBufferFrom(f)}},_.nodebuffer={string:v,array:function(f){return c(f,new Array(f.length))},arraybuffer:function(f){return _.nodebuffer.uint8array(f).buffer},uint8array:function(f){return c(f,new Uint8Array(f.length))},nodebuffer:m},u.transformTo=function(f,g){if(g=g||"",!f)return g;u.checkSupport(f);var d=u.getTypeOf(g);return _[d][f](g)},u.resolve=function(f){for(var g=f.split("/"),d=[],k=0;k<g.length;k++){var x=g[k];x==="."||x===""&&k!==0&&k!==g.length-1||(x===".."?d.pop():d.push(x))}return d.join("/")},u.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":e.nodebuffer&&s.isBuffer(f)?"nodebuffer":e.uint8array&&f instanceof Uint8Array?"uint8array":e.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(f){if(!e[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(f){var g,d,k="";for(d=0;d<(f||"").length;d++)k+="\\x"+((g=f.charCodeAt(d))<16?"0":"")+g.toString(16).toUpperCase();return k},u.delay=function(f,g,d){setImmediate(function(){f.apply(d||null,g||[])})},u.inherits=function(f,g){function d(){}d.prototype=g.prototype,f.prototype=new d},u.extend=function(){var f,g,d={};for(f=0;f<arguments.length;f++)for(g in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],g)&&d[g]===void 0&&(d[g]=arguments[f][g]);return d},u.prepareContent=function(f,g,d,k,x){return a.Promise.resolve(g).then(function(N){return e.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new a.Promise(function(A,L){var F=new FileReader;F.onload=function(M){A(M.target.result)},F.onerror=function(M){L(M.target.error)},F.readAsArrayBuffer(N)}):N}).then(function(N){var A=u.getTypeOf(N);return A?(A==="arraybuffer"?N=u.transformTo("uint8array",N):A==="string"&&(x?N=l.decode(N):d&&k!==!0&&(N=function(L){return w(L,e.uint8array?new Uint8Array(L.length):new Array(L.length))}(N))),N):a.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,h,u){var e=n("./reader/readerFor"),l=n("./utils"),s=n("./signature"),a=n("./zipEntry"),m=n("./support");function w(b){this.files=[],this.loadOptions=b}w.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(b)+")")}},isSignature:function(b,v){var c=this.reader.index;this.reader.setIndex(b);var _=this.reader.readString(4)===v;return this.reader.setIndex(c),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),v=m.uint8array?"uint8array":"array",c=l.transformTo(v,b);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,v,c,_=this.zip64EndOfCentralSize-44;0<_;)b=this.reader.readInt(2),v=this.reader.readInt(4),c=this.reader.readData(v),this.zip64ExtensibleData[b]={id:b,length:v,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,v;for(b=0;b<this.files.length;b++)v=this.files[b],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(b=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var v=b;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var _=v-c;if(0<_)this.isSignature(v,s.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(b){this.reader=e(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},h.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,h,u){var e=n("./reader/readerFor"),l=n("./utils"),s=n("./compressedObject"),a=n("./crc32"),m=n("./utf8"),w=n("./compressions"),b=n("./support");function v(c,_){this.options=c,this.loadOptions=_}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var _,f;if(c.skip(22),this.fileNameLength=c.readInt(2),f=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(g){for(var d in w)if(Object.prototype.hasOwnProperty.call(w,d)&&w[d].magic===g)return w[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,_,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var _=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(_),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=e(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var _,f,g,d=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<d;)_=c.readInt(2),f=c.readInt(2),g=c.readData(f),this.extraFields[_]={id:_,length:f,value:g};c.setIndex(d)},handleUTF8:function(){var c=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var f=l.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var d=l.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var _=e(c.value);return _.readInt(1)!==1||a(this.fileName)!==_.readInt(4)?null:m.utf8decode(_.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var _=e(c.value);return _.readInt(1)!==1||a(this.fileComment)!==_.readInt(4)?null:m.utf8decode(_.readData(c.length-5))}return null}},h.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,h,u){function e(_,f,g){this.name=_,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=f,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var l=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),a=n("./utf8"),m=n("./compressedObject"),w=n("./stream/GenericWorker");e.prototype={internalStream:function(_){var f=null,g="string";try{if(!_)throw new Error("No output type specified.");var d=(g=_.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),f=this._decompressWorker();var k=!this._dataBinary;k&&!d&&(f=f.pipe(new a.Utf8EncodeWorker)),!k&&d&&(f=f.pipe(new a.Utf8DecodeWorker))}catch(x){(f=new w("error")).error(x)}return new l(f,g,"")},async:function(_,f){return this.internalStream(_).accumulate(f)},nodeStream:function(_,f){return this.internalStream(_||"nodebuffer").toNodejsStream(f)},_compressWorker:function(_,f){if(this._data instanceof m&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new a.Utf8EncodeWorker)),m.createWorkerFrom(g,_,f)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof w?this._data:new s(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<b.length;c++)e.prototype[b[c]]=v;h.exports=e},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,h,u){(function(e){var l,s,a=e.MutationObserver||e.WebKitMutationObserver;if(a){var m=0,w=new a(_),b=e.document.createTextNode("");w.observe(b,{characterData:!0}),l=function(){b.data=m=++m%2}}else if(e.setImmediate||e.MessageChannel===void 0)l="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var f=e.document.createElement("script");f.onreadystatechange=function(){_(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},e.document.documentElement.appendChild(f)}:function(){setTimeout(_,0)};else{var v=new e.MessageChannel;v.port1.onmessage=_,l=function(){v.port2.postMessage(0)}}var c=[];function _(){var f,g;s=!0;for(var d=c.length;d;){for(g=c,c=[],f=-1;++f<d;)g[f]();d=c.length}s=!1}h.exports=function(f){c.push(f)!==1||s||l()}}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,h,u){var e=n("immediate");function l(){}var s={},a=["REJECTED"],m=["FULFILLED"],w=["PENDING"];function b(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,d!==l&&f(this,d)}function v(d,k,x){this.promise=d,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function c(d,k,x){e(function(){var N;try{N=k(x)}catch(A){return s.reject(d,A)}N===d?s.reject(d,new TypeError("Cannot resolve promise with itself")):s.resolve(d,N)})}function _(d){var k=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof k=="function")return function(){k.apply(d,arguments)}}function f(d,k){var x=!1;function N(F){x||(x=!0,s.reject(d,F))}function A(F){x||(x=!0,s.resolve(d,F))}var L=g(function(){k(A,N)});L.status==="error"&&N(L.value)}function g(d,k){var x={};try{x.value=d(k),x.status="success"}catch(N){x.status="error",x.value=N}return x}(h.exports=b).prototype.finally=function(d){if(typeof d!="function")return this;var k=this.constructor;return this.then(function(x){return k.resolve(d()).then(function(){return x})},function(x){return k.resolve(d()).then(function(){throw x})})},b.prototype.catch=function(d){return this.then(null,d)},b.prototype.then=function(d,k){if(typeof d!="function"&&this.state===m||typeof k!="function"&&this.state===a)return this;var x=new this.constructor(l);return this.state!==w?c(x,this.state===m?d:k,this.outcome):this.queue.push(new v(x,d,k)),x},v.prototype.callFulfilled=function(d){s.resolve(this.promise,d)},v.prototype.otherCallFulfilled=function(d){c(this.promise,this.onFulfilled,d)},v.prototype.callRejected=function(d){s.reject(this.promise,d)},v.prototype.otherCallRejected=function(d){c(this.promise,this.onRejected,d)},s.resolve=function(d,k){var x=g(_,k);if(x.status==="error")return s.reject(d,x.value);var N=x.value;if(N)f(d,N);else{d.state=m,d.outcome=k;for(var A=-1,L=d.queue.length;++A<L;)d.queue[A].callFulfilled(k)}return d},s.reject=function(d,k){d.state=a,d.outcome=k;for(var x=-1,N=d.queue.length;++x<N;)d.queue[x].callRejected(k);return d},b.resolve=function(d){return d instanceof this?d:s.resolve(new this(l),d)},b.reject=function(d){var k=new this(l);return s.reject(k,d)},b.all=function(d){var k=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=d.length,N=!1;if(!x)return this.resolve([]);for(var A=new Array(x),L=0,F=-1,M=new this(l);++F<x;)z(d[F],F);return M;function z(Z,K){k.resolve(Z).then(function(E){A[K]=E,++L!==x||N||(N=!0,s.resolve(M,A))},function(E){N||(N=!0,s.reject(M,E))})}},b.race=function(d){var k=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=d.length,N=!1;if(!x)return this.resolve([]);for(var A=-1,L=new this(l);++A<x;)F=d[A],k.resolve(F).then(function(M){N||(N=!0,s.resolve(L,M))},function(M){N||(N=!0,s.reject(L,M))});var F;return L}},{immediate:36}],38:[function(n,h,u){var e={};(0,n("./lib/utils/common").assign)(e,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),h.exports=e},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,h,u){var e=n("./zlib/deflate"),l=n("./utils/common"),s=n("./utils/strings"),a=n("./zlib/messages"),m=n("./zlib/zstream"),w=Object.prototype.toString,b=0,v=-1,c=0,_=8;function f(d){if(!(this instanceof f))return new f(d);this.options=l.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},d||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var x=e.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(x!==b)throw new Error(a[x]);if(k.header&&e.deflateSetHeader(this.strm,k.header),k.dictionary){var N;if(N=typeof k.dictionary=="string"?s.string2buf(k.dictionary):w.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(x=e.deflateSetDictionary(this.strm,N))!==b)throw new Error(a[x]);this._dict_set=!0}}function g(d,k){var x=new f(k);if(x.push(d,!0),x.err)throw x.msg||a[x.err];return x.result}f.prototype.push=function(d,k){var x,N,A=this.strm,L=this.options.chunkSize;if(this.ended)return!1;N=k===~~k?k:k===!0?4:0,typeof d=="string"?A.input=s.string2buf(d):w.call(d)==="[object ArrayBuffer]"?A.input=new Uint8Array(d):A.input=d,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new l.Buf8(L),A.next_out=0,A.avail_out=L),(x=e.deflate(A,N))!==1&&x!==b)return this.onEnd(x),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(l.shrinkBuf(A.output,A.next_out))):this.onData(l.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&x!==1);return N===4?(x=e.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===b):N!==2||(this.onEnd(b),!(A.avail_out=0))},f.prototype.onData=function(d){this.chunks.push(d)},f.prototype.onEnd=function(d){d===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},u.Deflate=f,u.deflate=g,u.deflateRaw=function(d,k){return(k=k||{}).raw=!0,g(d,k)},u.gzip=function(d,k){return(k=k||{}).gzip=!0,g(d,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,h,u){var e=n("./zlib/inflate"),l=n("./utils/common"),s=n("./utils/strings"),a=n("./zlib/constants"),m=n("./zlib/messages"),w=n("./zlib/zstream"),b=n("./zlib/gzheader"),v=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},f||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||f&&f.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var d=e.inflateInit2(this.strm,g.windowBits);if(d!==a.Z_OK)throw new Error(m[d]);this.header=new b,e.inflateGetHeader(this.strm,this.header)}function _(f,g){var d=new c(g);if(d.push(f,!0),d.err)throw d.msg||m[d.err];return d.result}c.prototype.push=function(f,g){var d,k,x,N,A,L,F=this.strm,M=this.options.chunkSize,z=this.options.dictionary,Z=!1;if(this.ended)return!1;k=g===~~g?g:g===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof f=="string"?F.input=s.binstring2buf(f):v.call(f)==="[object ArrayBuffer]"?F.input=new Uint8Array(f):F.input=f,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new l.Buf8(M),F.next_out=0,F.avail_out=M),(d=e.inflate(F,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&z&&(L=typeof z=="string"?s.string2buf(z):v.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,d=e.inflateSetDictionary(this.strm,L)),d===a.Z_BUF_ERROR&&Z===!0&&(d=a.Z_OK,Z=!1),d!==a.Z_STREAM_END&&d!==a.Z_OK)return this.onEnd(d),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&d!==a.Z_STREAM_END&&(F.avail_in!==0||k!==a.Z_FINISH&&k!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(F.output,F.next_out),N=F.next_out-x,A=s.buf2string(F.output,x),F.next_out=N,F.avail_out=M-N,N&&l.arraySet(F.output,F.output,x,N,0),this.onData(A)):this.onData(l.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(Z=!0)}while((0<F.avail_in||F.avail_out===0)&&d!==a.Z_STREAM_END);return d===a.Z_STREAM_END&&(k=a.Z_FINISH),k===a.Z_FINISH?(d=e.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===a.Z_OK):k!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(F.avail_out=0))},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},u.Inflate=c,u.inflate=_,u.inflateRaw=function(f,g){return(g=g||{}).raw=!0,_(f,g)},u.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,h,u){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(a){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var w=m.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var b in w)w.hasOwnProperty(b)&&(a[b]=w[b])}}return a},u.shrinkBuf=function(a,m){return a.length===m?a:a.subarray?a.subarray(0,m):(a.length=m,a)};var l={arraySet:function(a,m,w,b,v){if(m.subarray&&a.subarray)a.set(m.subarray(w,w+b),v);else for(var c=0;c<b;c++)a[v+c]=m[w+c]},flattenChunks:function(a){var m,w,b,v,c,_;for(m=b=0,w=a.length;m<w;m++)b+=a[m].length;for(_=new Uint8Array(b),m=v=0,w=a.length;m<w;m++)c=a[m],_.set(c,v),v+=c.length;return _}},s={arraySet:function(a,m,w,b,v){for(var c=0;c<b;c++)a[v+c]=m[w+c]},flattenChunks:function(a){return[].concat.apply([],a)}};u.setTyped=function(a){a?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,l)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,s))},u.setTyped(e)},{}],42:[function(n,h,u){var e=n("./common"),l=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var a=new e.Buf8(256),m=0;m<256;m++)a[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function w(b,v){if(v<65537&&(b.subarray&&s||!b.subarray&&l))return String.fromCharCode.apply(null,e.shrinkBuf(b,v));for(var c="",_=0;_<v;_++)c+=String.fromCharCode(b[_]);return c}a[254]=a[254]=1,u.string2buf=function(b){var v,c,_,f,g,d=b.length,k=0;for(f=0;f<d;f++)(64512&(c=b.charCodeAt(f)))==55296&&f+1<d&&(64512&(_=b.charCodeAt(f+1)))==56320&&(c=65536+(c-55296<<10)+(_-56320),f++),k+=c<128?1:c<2048?2:c<65536?3:4;for(v=new e.Buf8(k),f=g=0;g<k;f++)(64512&(c=b.charCodeAt(f)))==55296&&f+1<d&&(64512&(_=b.charCodeAt(f+1)))==56320&&(c=65536+(c-55296<<10)+(_-56320),f++),c<128?v[g++]=c:(c<2048?v[g++]=192|c>>>6:(c<65536?v[g++]=224|c>>>12:(v[g++]=240|c>>>18,v[g++]=128|c>>>12&63),v[g++]=128|c>>>6&63),v[g++]=128|63&c);return v},u.buf2binstring=function(b){return w(b,b.length)},u.binstring2buf=function(b){for(var v=new e.Buf8(b.length),c=0,_=v.length;c<_;c++)v[c]=b.charCodeAt(c);return v},u.buf2string=function(b,v){var c,_,f,g,d=v||b.length,k=new Array(2*d);for(c=_=0;c<d;)if((f=b[c++])<128)k[_++]=f;else if(4<(g=a[f]))k[_++]=65533,c+=g-1;else{for(f&=g===2?31:g===3?15:7;1<g&&c<d;)f=f<<6|63&b[c++],g--;1<g?k[_++]=65533:f<65536?k[_++]=f:(f-=65536,k[_++]=55296|f>>10&1023,k[_++]=56320|1023&f)}return w(k,_)},u.utf8border=function(b,v){var c;for((v=v||b.length)>b.length&&(v=b.length),c=v-1;0<=c&&(192&b[c])==128;)c--;return c<0||c===0?v:c+a[b[c]]>v?c:v}},{"./common":41}],43:[function(n,h,u){h.exports=function(e,l,s,a){for(var m=65535&e|0,w=e>>>16&65535|0,b=0;s!==0;){for(s-=b=2e3<s?2e3:s;w=w+(m=m+l[a++]|0)|0,--b;);m%=65521,w%=65521}return m|w<<16|0}},{}],44:[function(n,h,u){h.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,h,u){var e=function(){for(var l,s=[],a=0;a<256;a++){l=a;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;s[a]=l}return s}();h.exports=function(l,s,a,m){var w=e,b=m+a;l^=-1;for(var v=m;v<b;v++)l=l>>>8^w[255&(l^s[v])];return-1^l}},{}],46:[function(n,h,u){var e,l=n("../utils/common"),s=n("./trees"),a=n("./adler32"),m=n("./crc32"),w=n("./messages"),b=0,v=4,c=0,_=-2,f=-1,g=4,d=2,k=8,x=9,N=286,A=30,L=19,F=2*N+1,M=15,z=3,Z=258,K=Z+z+1,E=42,P=113,o=1,R=2,Q=3,W=4;function tt(r,B){return r.msg=w[B],B}function H(r){return(r<<1)-(4<r?9:0)}function D(r){for(var B=r.length;0<=--B;)r[B]=0}function O(r){var B=r.state,T=B.pending;T>r.avail_out&&(T=r.avail_out),T!==0&&(l.arraySet(r.output,B.pending_buf,B.pending_out,T,r.next_out),r.next_out+=T,B.pending_out+=T,r.total_out+=T,r.avail_out-=T,B.pending-=T,B.pending===0&&(B.pending_out=0))}function I(r,B){s._tr_flush_block(r,0<=r.block_start?r.block_start:-1,r.strstart-r.block_start,B),r.block_start=r.strstart,O(r.strm)}function q(r,B){r.pending_buf[r.pending++]=B}function X(r,B){r.pending_buf[r.pending++]=B>>>8&255,r.pending_buf[r.pending++]=255&B}function G(r,B){var T,y,p=r.max_chain_length,S=r.strstart,U=r.prev_length,j=r.nice_match,C=r.strstart>r.w_size-K?r.strstart-(r.w_size-K):0,$=r.window,Y=r.w_mask,V=r.prev,J=r.strstart+Z,it=$[S+U-1],rt=$[S+U];r.prev_length>=r.good_match&&(p>>=2),j>r.lookahead&&(j=r.lookahead);do if($[(T=B)+U]===rt&&$[T+U-1]===it&&$[T]===$[S]&&$[++T]===$[S+1]){S+=2,T++;do;while($[++S]===$[++T]&&$[++S]===$[++T]&&$[++S]===$[++T]&&$[++S]===$[++T]&&$[++S]===$[++T]&&$[++S]===$[++T]&&$[++S]===$[++T]&&$[++S]===$[++T]&&S<J);if(y=Z-(J-S),S=J-Z,U<y){if(r.match_start=B,j<=(U=y))break;it=$[S+U-1],rt=$[S+U]}}while((B=V[B&Y])>C&&--p!=0);return U<=r.lookahead?U:r.lookahead}function st(r){var B,T,y,p,S,U,j,C,$,Y,V=r.w_size;do{if(p=r.window_size-r.lookahead-r.strstart,r.strstart>=V+(V-K)){for(l.arraySet(r.window,r.window,V,V,0),r.match_start-=V,r.strstart-=V,r.block_start-=V,B=T=r.hash_size;y=r.head[--B],r.head[B]=V<=y?y-V:0,--T;);for(B=T=V;y=r.prev[--B],r.prev[B]=V<=y?y-V:0,--T;);p+=V}if(r.strm.avail_in===0)break;if(U=r.strm,j=r.window,C=r.strstart+r.lookahead,$=p,Y=void 0,Y=U.avail_in,$<Y&&(Y=$),T=Y===0?0:(U.avail_in-=Y,l.arraySet(j,U.input,U.next_in,Y,C),U.state.wrap===1?U.adler=a(U.adler,j,Y,C):U.state.wrap===2&&(U.adler=m(U.adler,j,Y,C)),U.next_in+=Y,U.total_in+=Y,Y),r.lookahead+=T,r.lookahead+r.insert>=z)for(S=r.strstart-r.insert,r.ins_h=r.window[S],r.ins_h=(r.ins_h<<r.hash_shift^r.window[S+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[S+z-1])&r.hash_mask,r.prev[S&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=S,S++,r.insert--,!(r.lookahead+r.insert<z)););}while(r.lookahead<K&&r.strm.avail_in!==0)}function ft(r,B){for(var T,y;;){if(r.lookahead<K){if(st(r),r.lookahead<K&&B===b)return o;if(r.lookahead===0)break}if(T=0,r.lookahead>=z&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+z-1])&r.hash_mask,T=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),T!==0&&r.strstart-T<=r.w_size-K&&(r.match_length=G(r,T)),r.match_length>=z)if(y=s._tr_tally(r,r.strstart-r.match_start,r.match_length-z),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=z){for(r.match_length--;r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+z-1])&r.hash_mask,T=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart,--r.match_length!=0;);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else y=s._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(y&&(I(r,!1),r.strm.avail_out===0))return o}return r.insert=r.strstart<z-1?r.strstart:z-1,B===v?(I(r,!0),r.strm.avail_out===0?Q:W):r.last_lit&&(I(r,!1),r.strm.avail_out===0)?o:R}function et(r,B){for(var T,y,p;;){if(r.lookahead<K){if(st(r),r.lookahead<K&&B===b)return o;if(r.lookahead===0)break}if(T=0,r.lookahead>=z&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+z-1])&r.hash_mask,T=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=z-1,T!==0&&r.prev_length<r.max_lazy_match&&r.strstart-T<=r.w_size-K&&(r.match_length=G(r,T),r.match_length<=5&&(r.strategy===1||r.match_length===z&&4096<r.strstart-r.match_start)&&(r.match_length=z-1)),r.prev_length>=z&&r.match_length<=r.prev_length){for(p=r.strstart+r.lookahead-z,y=s._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-z),r.lookahead-=r.prev_length-1,r.prev_length-=2;++r.strstart<=p&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+z-1])&r.hash_mask,T=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),--r.prev_length!=0;);if(r.match_available=0,r.match_length=z-1,r.strstart++,y&&(I(r,!1),r.strm.avail_out===0))return o}else if(r.match_available){if((y=s._tr_tally(r,0,r.window[r.strstart-1]))&&I(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return o}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(y=s._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<z-1?r.strstart:z-1,B===v?(I(r,!0),r.strm.avail_out===0?Q:W):r.last_lit&&(I(r,!1),r.strm.avail_out===0)?o:R}function nt(r,B,T,y,p){this.good_length=r,this.max_lazy=B,this.nice_length=T,this.max_chain=y,this.func=p}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*F),this.dyn_dtree=new l.Buf16(2*(2*A+1)),this.bl_tree=new l.Buf16(2*(2*L+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(M+1),this.heap=new l.Buf16(2*N+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*N+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(r){var B;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=d,(B=r.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?E:P,r.adler=B.wrap===2?0:1,B.last_flush=b,s._tr_init(B),c):tt(r,_)}function pt(r){var B=at(r);return B===c&&function(T){T.window_size=2*T.w_size,D(T.head),T.max_lazy_match=e[T.level].max_lazy,T.good_match=e[T.level].good_length,T.nice_match=e[T.level].nice_length,T.max_chain_length=e[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=z-1,T.match_available=0,T.ins_h=0}(r.state),B}function dt(r,B,T,y,p,S){if(!r)return _;var U=1;if(B===f&&(B=6),y<0?(U=0,y=-y):15<y&&(U=2,y-=16),p<1||x<p||T!==k||y<8||15<y||B<0||9<B||S<0||g<S)return tt(r,_);y===8&&(y=9);var j=new lt;return(r.state=j).strm=r,j.wrap=U,j.gzhead=null,j.w_bits=y,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=p+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+z-1)/z),j.window=new l.Buf8(2*j.w_size),j.head=new l.Buf16(j.hash_size),j.prev=new l.Buf16(j.w_size),j.lit_bufsize=1<<p+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new l.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=B,j.strategy=S,j.method=T,pt(r)}e=[new nt(0,0,0,0,function(r,B){var T=65535;for(T>r.pending_buf_size-5&&(T=r.pending_buf_size-5);;){if(r.lookahead<=1){if(st(r),r.lookahead===0&&B===b)return o;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var y=r.block_start+T;if((r.strstart===0||r.strstart>=y)&&(r.lookahead=r.strstart-y,r.strstart=y,I(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-K&&(I(r,!1),r.strm.avail_out===0))return o}return r.insert=0,B===v?(I(r,!0),r.strm.avail_out===0?Q:W):(r.strstart>r.block_start&&(I(r,!1),r.strm.avail_out),o)}),new nt(4,4,8,4,ft),new nt(4,5,16,8,ft),new nt(4,6,32,32,ft),new nt(4,4,16,16,et),new nt(8,16,32,32,et),new nt(8,16,128,128,et),new nt(8,32,128,256,et),new nt(32,128,258,1024,et),new nt(32,258,258,4096,et)],u.deflateInit=function(r,B){return dt(r,B,k,15,8,0)},u.deflateInit2=dt,u.deflateReset=pt,u.deflateResetKeep=at,u.deflateSetHeader=function(r,B){return r&&r.state?r.state.wrap!==2?_:(r.state.gzhead=B,c):_},u.deflate=function(r,B){var T,y,p,S;if(!r||!r.state||5<B||B<0)return r?tt(r,_):_;if(y=r.state,!r.output||!r.input&&r.avail_in!==0||y.status===666&&B!==v)return tt(r,r.avail_out===0?-5:_);if(y.strm=r,T=y.last_flush,y.last_flush=B,y.status===E)if(y.wrap===2)r.adler=0,q(y,31),q(y,139),q(y,8),y.gzhead?(q(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),q(y,255&y.gzhead.time),q(y,y.gzhead.time>>8&255),q(y,y.gzhead.time>>16&255),q(y,y.gzhead.time>>24&255),q(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),q(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(q(y,255&y.gzhead.extra.length),q(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(r.adler=m(r.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(q(y,0),q(y,0),q(y,0),q(y,0),q(y,0),q(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),q(y,3),y.status=P);else{var U=k+(y.w_bits-8<<4)<<8;U|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(U|=32),U+=31-U%31,y.status=P,X(y,U),y.strstart!==0&&(X(y,r.adler>>>16),X(y,65535&r.adler)),r.adler=1}if(y.status===69)if(y.gzhead.extra){for(p=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>p&&(r.adler=m(r.adler,y.pending_buf,y.pending-p,p)),O(r),p=y.pending,y.pending!==y.pending_buf_size));)q(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>p&&(r.adler=m(r.adler,y.pending_buf,y.pending-p,p)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){p=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>p&&(r.adler=m(r.adler,y.pending_buf,y.pending-p,p)),O(r),p=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,q(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>p&&(r.adler=m(r.adler,y.pending_buf,y.pending-p,p)),S===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){p=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>p&&(r.adler=m(r.adler,y.pending_buf,y.pending-p,p)),O(r),p=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,q(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>p&&(r.adler=m(r.adler,y.pending_buf,y.pending-p,p)),S===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&O(r),y.pending+2<=y.pending_buf_size&&(q(y,255&r.adler),q(y,r.adler>>8&255),r.adler=0,y.status=P)):y.status=P),y.pending!==0){if(O(r),r.avail_out===0)return y.last_flush=-1,c}else if(r.avail_in===0&&H(B)<=H(T)&&B!==v)return tt(r,-5);if(y.status===666&&r.avail_in!==0)return tt(r,-5);if(r.avail_in!==0||y.lookahead!==0||B!==b&&y.status!==666){var j=y.strategy===2?function(C,$){for(var Y;;){if(C.lookahead===0&&(st(C),C.lookahead===0)){if($===b)return o;break}if(C.match_length=0,Y=s._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,Y&&(I(C,!1),C.strm.avail_out===0))return o}return C.insert=0,$===v?(I(C,!0),C.strm.avail_out===0?Q:W):C.last_lit&&(I(C,!1),C.strm.avail_out===0)?o:R}(y,B):y.strategy===3?function(C,$){for(var Y,V,J,it,rt=C.window;;){if(C.lookahead<=Z){if(st(C),C.lookahead<=Z&&$===b)return o;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=z&&0<C.strstart&&(V=rt[J=C.strstart-1])===rt[++J]&&V===rt[++J]&&V===rt[++J]){it=C.strstart+Z;do;while(V===rt[++J]&&V===rt[++J]&&V===rt[++J]&&V===rt[++J]&&V===rt[++J]&&V===rt[++J]&&V===rt[++J]&&V===rt[++J]&&J<it);C.match_length=Z-(it-J),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=z?(Y=s._tr_tally(C,1,C.match_length-z),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(Y=s._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),Y&&(I(C,!1),C.strm.avail_out===0))return o}return C.insert=0,$===v?(I(C,!0),C.strm.avail_out===0?Q:W):C.last_lit&&(I(C,!1),C.strm.avail_out===0)?o:R}(y,B):e[y.level].func(y,B);if(j!==Q&&j!==W||(y.status=666),j===o||j===Q)return r.avail_out===0&&(y.last_flush=-1),c;if(j===R&&(B===1?s._tr_align(y):B!==5&&(s._tr_stored_block(y,0,0,!1),B===3&&(D(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),O(r),r.avail_out===0))return y.last_flush=-1,c}return B!==v?c:y.wrap<=0?1:(y.wrap===2?(q(y,255&r.adler),q(y,r.adler>>8&255),q(y,r.adler>>16&255),q(y,r.adler>>24&255),q(y,255&r.total_in),q(y,r.total_in>>8&255),q(y,r.total_in>>16&255),q(y,r.total_in>>24&255)):(X(y,r.adler>>>16),X(y,65535&r.adler)),O(r),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?c:1)},u.deflateEnd=function(r){var B;return r&&r.state?(B=r.state.status)!==E&&B!==69&&B!==73&&B!==91&&B!==103&&B!==P&&B!==666?tt(r,_):(r.state=null,B===P?tt(r,-3):c):_},u.deflateSetDictionary=function(r,B){var T,y,p,S,U,j,C,$,Y=B.length;if(!r||!r.state||(S=(T=r.state).wrap)===2||S===1&&T.status!==E||T.lookahead)return _;for(S===1&&(r.adler=a(r.adler,B,Y,0)),T.wrap=0,Y>=T.w_size&&(S===0&&(D(T.head),T.strstart=0,T.block_start=0,T.insert=0),$=new l.Buf8(T.w_size),l.arraySet($,B,Y-T.w_size,T.w_size,0),B=$,Y=T.w_size),U=r.avail_in,j=r.next_in,C=r.input,r.avail_in=Y,r.next_in=0,r.input=B,st(T);T.lookahead>=z;){for(y=T.strstart,p=T.lookahead-(z-1);T.ins_h=(T.ins_h<<T.hash_shift^T.window[y+z-1])&T.hash_mask,T.prev[y&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=y,y++,--p;);T.strstart=y,T.lookahead=z-1,st(T)}return T.strstart+=T.lookahead,T.block_start=T.strstart,T.insert=T.lookahead,T.lookahead=0,T.match_length=T.prev_length=z-1,T.match_available=0,r.next_in=j,r.input=C,r.avail_in=U,T.wrap=S,c},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,h,u){h.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,h,u){h.exports=function(e,l){var s,a,m,w,b,v,c,_,f,g,d,k,x,N,A,L,F,M,z,Z,K,E,P,o,R;s=e.state,a=e.next_in,o=e.input,m=a+(e.avail_in-5),w=e.next_out,R=e.output,b=w-(l-e.avail_out),v=w+(e.avail_out-257),c=s.dmax,_=s.wsize,f=s.whave,g=s.wnext,d=s.window,k=s.hold,x=s.bits,N=s.lencode,A=s.distcode,L=(1<<s.lenbits)-1,F=(1<<s.distbits)-1;t:do{x<15&&(k+=o[a++]<<x,x+=8,k+=o[a++]<<x,x+=8),M=N[k&L];e:for(;;){if(k>>>=z=M>>>24,x-=z,(z=M>>>16&255)===0)R[w++]=65535&M;else{if(!(16&z)){if(!(64&z)){M=N[(65535&M)+(k&(1<<z)-1)];continue e}if(32&z){s.mode=12;break t}e.msg="invalid literal/length code",s.mode=30;break t}Z=65535&M,(z&=15)&&(x<z&&(k+=o[a++]<<x,x+=8),Z+=k&(1<<z)-1,k>>>=z,x-=z),x<15&&(k+=o[a++]<<x,x+=8,k+=o[a++]<<x,x+=8),M=A[k&F];r:for(;;){if(k>>>=z=M>>>24,x-=z,!(16&(z=M>>>16&255))){if(!(64&z)){M=A[(65535&M)+(k&(1<<z)-1)];continue r}e.msg="invalid distance code",s.mode=30;break t}if(K=65535&M,x<(z&=15)&&(k+=o[a++]<<x,(x+=8)<z&&(k+=o[a++]<<x,x+=8)),c<(K+=k&(1<<z)-1)){e.msg="invalid distance too far back",s.mode=30;break t}if(k>>>=z,x-=z,(z=w-b)<K){if(f<(z=K-z)&&s.sane){e.msg="invalid distance too far back",s.mode=30;break t}if(P=d,(E=0)===g){if(E+=_-z,z<Z){for(Z-=z;R[w++]=d[E++],--z;);E=w-K,P=R}}else if(g<z){if(E+=_+g-z,(z-=g)<Z){for(Z-=z;R[w++]=d[E++],--z;);if(E=0,g<Z){for(Z-=z=g;R[w++]=d[E++],--z;);E=w-K,P=R}}}else if(E+=g-z,z<Z){for(Z-=z;R[w++]=d[E++],--z;);E=w-K,P=R}for(;2<Z;)R[w++]=P[E++],R[w++]=P[E++],R[w++]=P[E++],Z-=3;Z&&(R[w++]=P[E++],1<Z&&(R[w++]=P[E++]))}else{for(E=w-K;R[w++]=R[E++],R[w++]=R[E++],R[w++]=R[E++],2<(Z-=3););Z&&(R[w++]=R[E++],1<Z&&(R[w++]=R[E++]))}break}}break}}while(a<m&&w<v);a-=Z=x>>3,k&=(1<<(x-=Z<<3))-1,e.next_in=a,e.next_out=w,e.avail_in=a<m?m-a+5:5-(a-m),e.avail_out=w<v?v-w+257:257-(w-v),s.hold=k,s.bits=x}},{}],49:[function(n,h,u){var e=n("../utils/common"),l=n("./adler32"),s=n("./crc32"),a=n("./inffast"),m=n("./inftrees"),w=1,b=2,v=0,c=-2,_=1,f=852,g=592;function d(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(E){var P;return E&&E.state?(P=E.state,E.total_in=E.total_out=P.total=0,E.msg="",P.wrap&&(E.adler=1&P.wrap),P.mode=_,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new e.Buf32(f),P.distcode=P.distdyn=new e.Buf32(g),P.sane=1,P.back=-1,v):c}function N(E){var P;return E&&E.state?((P=E.state).wsize=0,P.whave=0,P.wnext=0,x(E)):c}function A(E,P){var o,R;return E&&E.state?(R=E.state,P<0?(o=0,P=-P):(o=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?c:(R.window!==null&&R.wbits!==P&&(R.window=null),R.wrap=o,R.wbits=P,N(E))):c}function L(E,P){var o,R;return E?(R=new k,(E.state=R).window=null,(o=A(E,P))!==v&&(E.state=null),o):c}var F,M,z=!0;function Z(E){if(z){var P;for(F=new e.Buf32(512),M=new e.Buf32(32),P=0;P<144;)E.lens[P++]=8;for(;P<256;)E.lens[P++]=9;for(;P<280;)E.lens[P++]=7;for(;P<288;)E.lens[P++]=8;for(m(w,E.lens,0,288,F,0,E.work,{bits:9}),P=0;P<32;)E.lens[P++]=5;m(b,E.lens,0,32,M,0,E.work,{bits:5}),z=!1}E.lencode=F,E.lenbits=9,E.distcode=M,E.distbits=5}function K(E,P,o,R){var Q,W=E.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new e.Buf8(W.wsize)),R>=W.wsize?(e.arraySet(W.window,P,o-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(R<(Q=W.wsize-W.wnext)&&(Q=R),e.arraySet(W.window,P,o-R,Q,W.wnext),(R-=Q)?(e.arraySet(W.window,P,o-R,R,0),W.wnext=R,W.whave=W.wsize):(W.wnext+=Q,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=Q))),0}u.inflateReset=N,u.inflateReset2=A,u.inflateResetKeep=x,u.inflateInit=function(E){return L(E,15)},u.inflateInit2=L,u.inflate=function(E,P){var o,R,Q,W,tt,H,D,O,I,q,X,G,st,ft,et,nt,lt,at,pt,dt,r,B,T,y,p=0,S=new e.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return c;(o=E.state).mode===12&&(o.mode=13),tt=E.next_out,Q=E.output,D=E.avail_out,W=E.next_in,R=E.input,H=E.avail_in,O=o.hold,I=o.bits,q=H,X=D,B=v;t:for(;;)switch(o.mode){case _:if(o.wrap===0){o.mode=13;break}for(;I<16;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(2&o.wrap&&O===35615){S[o.check=0]=255&O,S[1]=O>>>8&255,o.check=s(o.check,S,2,0),I=O=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&O)<<8)+(O>>8))%31){E.msg="incorrect header check",o.mode=30;break}if((15&O)!=8){E.msg="unknown compression method",o.mode=30;break}if(I-=4,r=8+(15&(O>>>=4)),o.wbits===0)o.wbits=r;else if(r>o.wbits){E.msg="invalid window size",o.mode=30;break}o.dmax=1<<r,E.adler=o.check=1,o.mode=512&O?10:12,I=O=0;break;case 2:for(;I<16;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(o.flags=O,(255&o.flags)!=8){E.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){E.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=O>>8&1),512&o.flags&&(S[0]=255&O,S[1]=O>>>8&255,o.check=s(o.check,S,2,0)),I=O=0,o.mode=3;case 3:for(;I<32;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}o.head&&(o.head.time=O),512&o.flags&&(S[0]=255&O,S[1]=O>>>8&255,S[2]=O>>>16&255,S[3]=O>>>24&255,o.check=s(o.check,S,4,0)),I=O=0,o.mode=4;case 4:for(;I<16;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}o.head&&(o.head.xflags=255&O,o.head.os=O>>8),512&o.flags&&(S[0]=255&O,S[1]=O>>>8&255,o.check=s(o.check,S,2,0)),I=O=0,o.mode=5;case 5:if(1024&o.flags){for(;I<16;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}o.length=O,o.head&&(o.head.extra_len=O),512&o.flags&&(S[0]=255&O,S[1]=O>>>8&255,o.check=s(o.check,S,2,0)),I=O=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(H<(G=o.length)&&(G=H),G&&(o.head&&(r=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),e.arraySet(o.head.extra,R,W,G,r)),512&o.flags&&(o.check=s(o.check,R,G,W)),H-=G,W+=G,o.length-=G),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(H===0)break t;for(G=0;r=R[W+G++],o.head&&r&&o.length<65536&&(o.head.name+=String.fromCharCode(r)),r&&G<H;);if(512&o.flags&&(o.check=s(o.check,R,G,W)),H-=G,W+=G,r)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(H===0)break t;for(G=0;r=R[W+G++],o.head&&r&&o.length<65536&&(o.head.comment+=String.fromCharCode(r)),r&&G<H;);if(512&o.flags&&(o.check=s(o.check,R,G,W)),H-=G,W+=G,r)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;I<16;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(O!==(65535&o.check)){E.msg="header crc mismatch",o.mode=30;break}I=O=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),E.adler=o.check=0,o.mode=12;break;case 10:for(;I<32;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}E.adler=o.check=d(O),I=O=0,o.mode=11;case 11:if(o.havedict===0)return E.next_out=tt,E.avail_out=D,E.next_in=W,E.avail_in=H,o.hold=O,o.bits=I,2;E.adler=o.check=1,o.mode=12;case 12:if(P===5||P===6)break t;case 13:if(o.last){O>>>=7&I,I-=7&I,o.mode=27;break}for(;I<3;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}switch(o.last=1&O,I-=1,3&(O>>>=1)){case 0:o.mode=14;break;case 1:if(Z(o),o.mode=20,P!==6)break;O>>>=2,I-=2;break t;case 2:o.mode=17;break;case 3:E.msg="invalid block type",o.mode=30}O>>>=2,I-=2;break;case 14:for(O>>>=7&I,I-=7&I;I<32;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if((65535&O)!=(O>>>16^65535)){E.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&O,I=O=0,o.mode=15,P===6)break t;case 15:o.mode=16;case 16:if(G=o.length){if(H<G&&(G=H),D<G&&(G=D),G===0)break t;e.arraySet(Q,R,W,G,tt),H-=G,W+=G,D-=G,tt+=G,o.length-=G;break}o.mode=12;break;case 17:for(;I<14;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(o.nlen=257+(31&O),O>>>=5,I-=5,o.ndist=1+(31&O),O>>>=5,I-=5,o.ncode=4+(15&O),O>>>=4,I-=4,286<o.nlen||30<o.ndist){E.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;I<3;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}o.lens[U[o.have++]]=7&O,O>>>=3,I-=3}for(;o.have<19;)o.lens[U[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,T={bits:o.lenbits},B=m(0,o.lens,0,19,o.lencode,0,o.work,T),o.lenbits=T.bits,B){E.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;nt=(p=o.lencode[O&(1<<o.lenbits)-1])>>>16&255,lt=65535&p,!((et=p>>>24)<=I);){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(lt<16)O>>>=et,I-=et,o.lens[o.have++]=lt;else{if(lt===16){for(y=et+2;I<y;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(O>>>=et,I-=et,o.have===0){E.msg="invalid bit length repeat",o.mode=30;break}r=o.lens[o.have-1],G=3+(3&O),O>>>=2,I-=2}else if(lt===17){for(y=et+3;I<y;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}I-=et,r=0,G=3+(7&(O>>>=et)),O>>>=3,I-=3}else{for(y=et+7;I<y;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}I-=et,r=0,G=11+(127&(O>>>=et)),O>>>=7,I-=7}if(o.have+G>o.nlen+o.ndist){E.msg="invalid bit length repeat",o.mode=30;break}for(;G--;)o.lens[o.have++]=r}}if(o.mode===30)break;if(o.lens[256]===0){E.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,T={bits:o.lenbits},B=m(w,o.lens,0,o.nlen,o.lencode,0,o.work,T),o.lenbits=T.bits,B){E.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,T={bits:o.distbits},B=m(b,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,T),o.distbits=T.bits,B){E.msg="invalid distances set",o.mode=30;break}if(o.mode=20,P===6)break t;case 20:o.mode=21;case 21:if(6<=H&&258<=D){E.next_out=tt,E.avail_out=D,E.next_in=W,E.avail_in=H,o.hold=O,o.bits=I,a(E,X),tt=E.next_out,Q=E.output,D=E.avail_out,W=E.next_in,R=E.input,H=E.avail_in,O=o.hold,I=o.bits,o.mode===12&&(o.back=-1);break}for(o.back=0;nt=(p=o.lencode[O&(1<<o.lenbits)-1])>>>16&255,lt=65535&p,!((et=p>>>24)<=I);){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(nt&&!(240&nt)){for(at=et,pt=nt,dt=lt;nt=(p=o.lencode[dt+((O&(1<<at+pt)-1)>>at)])>>>16&255,lt=65535&p,!(at+(et=p>>>24)<=I);){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}O>>>=at,I-=at,o.back+=at}if(O>>>=et,I-=et,o.back+=et,o.length=lt,nt===0){o.mode=26;break}if(32&nt){o.back=-1,o.mode=12;break}if(64&nt){E.msg="invalid literal/length code",o.mode=30;break}o.extra=15&nt,o.mode=22;case 22:if(o.extra){for(y=o.extra;I<y;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}o.length+=O&(1<<o.extra)-1,O>>>=o.extra,I-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;nt=(p=o.distcode[O&(1<<o.distbits)-1])>>>16&255,lt=65535&p,!((et=p>>>24)<=I);){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(!(240&nt)){for(at=et,pt=nt,dt=lt;nt=(p=o.distcode[dt+((O&(1<<at+pt)-1)>>at)])>>>16&255,lt=65535&p,!(at+(et=p>>>24)<=I);){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}O>>>=at,I-=at,o.back+=at}if(O>>>=et,I-=et,o.back+=et,64&nt){E.msg="invalid distance code",o.mode=30;break}o.offset=lt,o.extra=15&nt,o.mode=24;case 24:if(o.extra){for(y=o.extra;I<y;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}o.offset+=O&(1<<o.extra)-1,O>>>=o.extra,I-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){E.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(D===0)break t;if(G=X-D,o.offset>G){if((G=o.offset-G)>o.whave&&o.sane){E.msg="invalid distance too far back",o.mode=30;break}st=G>o.wnext?(G-=o.wnext,o.wsize-G):o.wnext-G,G>o.length&&(G=o.length),ft=o.window}else ft=Q,st=tt-o.offset,G=o.length;for(D<G&&(G=D),D-=G,o.length-=G;Q[tt++]=ft[st++],--G;);o.length===0&&(o.mode=21);break;case 26:if(D===0)break t;Q[tt++]=o.length,D--,o.mode=21;break;case 27:if(o.wrap){for(;I<32;){if(H===0)break t;H--,O|=R[W++]<<I,I+=8}if(X-=D,E.total_out+=X,o.total+=X,X&&(E.adler=o.check=o.flags?s(o.check,Q,X,tt-X):l(o.check,Q,X,tt-X)),X=D,(o.flags?O:d(O))!==o.check){E.msg="incorrect data check",o.mode=30;break}I=O=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;I<32;){if(H===0)break t;H--,O+=R[W++]<<I,I+=8}if(O!==(4294967295&o.total)){E.msg="incorrect length check",o.mode=30;break}I=O=0}o.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;case 32:default:return c}return E.next_out=tt,E.avail_out=D,E.next_in=W,E.avail_in=H,o.hold=O,o.bits=I,(o.wsize||X!==E.avail_out&&o.mode<30&&(o.mode<27||P!==4))&&K(E,E.output,E.next_out,X-E.avail_out)?(o.mode=31,-4):(q-=E.avail_in,X-=E.avail_out,E.total_in+=q,E.total_out+=X,o.total+=X,o.wrap&&X&&(E.adler=o.check=o.flags?s(o.check,Q,X,E.next_out-X):l(o.check,Q,X,E.next_out-X)),E.data_type=o.bits+(o.last?64:0)+(o.mode===12?128:0)+(o.mode===20||o.mode===15?256:0),(q==0&&X===0||P===4)&&B===v&&(B=-5),B)},u.inflateEnd=function(E){if(!E||!E.state)return c;var P=E.state;return P.window&&(P.window=null),E.state=null,v},u.inflateGetHeader=function(E,P){var o;return E&&E.state&&2&(o=E.state).wrap?((o.head=P).done=!1,v):c},u.inflateSetDictionary=function(E,P){var o,R=P.length;return E&&E.state?(o=E.state).wrap!==0&&o.mode!==11?c:o.mode===11&&l(1,P,R,0)!==o.check?-3:K(E,P,R,R)?(o.mode=31,-4):(o.havedict=1,v):c},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,h,u){var e=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];h.exports=function(w,b,v,c,_,f,g,d){var k,x,N,A,L,F,M,z,Z,K=d.bits,E=0,P=0,o=0,R=0,Q=0,W=0,tt=0,H=0,D=0,O=0,I=null,q=0,X=new e.Buf16(16),G=new e.Buf16(16),st=null,ft=0;for(E=0;E<=15;E++)X[E]=0;for(P=0;P<c;P++)X[b[v+P]]++;for(Q=K,R=15;1<=R&&X[R]===0;R--);if(R<Q&&(Q=R),R===0)return _[f++]=20971520,_[f++]=20971520,d.bits=1,0;for(o=1;o<R&&X[o]===0;o++);for(Q<o&&(Q=o),E=H=1;E<=15;E++)if(H<<=1,(H-=X[E])<0)return-1;if(0<H&&(w===0||R!==1))return-1;for(G[1]=0,E=1;E<15;E++)G[E+1]=G[E]+X[E];for(P=0;P<c;P++)b[v+P]!==0&&(g[G[b[v+P]]++]=P);if(F=w===0?(I=st=g,19):w===1?(I=l,q-=257,st=s,ft-=257,256):(I=a,st=m,-1),E=o,L=f,tt=P=O=0,N=-1,A=(D=1<<(W=Q))-1,w===1&&852<D||w===2&&592<D)return 1;for(;;){for(M=E-tt,Z=g[P]<F?(z=0,g[P]):g[P]>F?(z=st[ft+g[P]],I[q+g[P]]):(z=96,0),k=1<<E-tt,o=x=1<<W;_[L+(O>>tt)+(x-=k)]=M<<24|z<<16|Z|0,x!==0;);for(k=1<<E-1;O&k;)k>>=1;if(k!==0?(O&=k-1,O+=k):O=0,P++,--X[E]==0){if(E===R)break;E=b[v+g[P]]}if(Q<E&&(O&A)!==N){for(tt===0&&(tt=Q),L+=o,H=1<<(W=E-tt);W+tt<R&&!((H-=X[W+tt])<=0);)W++,H<<=1;if(D+=1<<W,w===1&&852<D||w===2&&592<D)return 1;_[N=O&A]=Q<<24|W<<16|L-f|0}}return O!==0&&(_[L+O]=E-tt<<24|64<<16|0),d.bits=Q,0}},{"../utils/common":41}],51:[function(n,h,u){h.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,h,u){var e=n("../utils/common"),l=0,s=1;function a(p){for(var S=p.length;0<=--S;)p[S]=0}var m=0,w=29,b=256,v=b+1+w,c=30,_=19,f=2*v+1,g=15,d=16,k=7,x=256,N=16,A=17,L=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(v+2));a(K);var E=new Array(2*c);a(E);var P=new Array(512);a(P);var o=new Array(256);a(o);var R=new Array(w);a(R);var Q,W,tt,H=new Array(c);function D(p,S,U,j,C){this.static_tree=p,this.extra_bits=S,this.extra_base=U,this.elems=j,this.max_length=C,this.has_stree=p&&p.length}function O(p,S){this.dyn_tree=p,this.max_code=0,this.stat_desc=S}function I(p){return p<256?P[p]:P[256+(p>>>7)]}function q(p,S){p.pending_buf[p.pending++]=255&S,p.pending_buf[p.pending++]=S>>>8&255}function X(p,S,U){p.bi_valid>d-U?(p.bi_buf|=S<<p.bi_valid&65535,q(p,p.bi_buf),p.bi_buf=S>>d-p.bi_valid,p.bi_valid+=U-d):(p.bi_buf|=S<<p.bi_valid&65535,p.bi_valid+=U)}function G(p,S,U){X(p,U[2*S],U[2*S+1])}function st(p,S){for(var U=0;U|=1&p,p>>>=1,U<<=1,0<--S;);return U>>>1}function ft(p,S,U){var j,C,$=new Array(g+1),Y=0;for(j=1;j<=g;j++)$[j]=Y=Y+U[j-1]<<1;for(C=0;C<=S;C++){var V=p[2*C+1];V!==0&&(p[2*C]=st($[V]++,V))}}function et(p){var S;for(S=0;S<v;S++)p.dyn_ltree[2*S]=0;for(S=0;S<c;S++)p.dyn_dtree[2*S]=0;for(S=0;S<_;S++)p.bl_tree[2*S]=0;p.dyn_ltree[2*x]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function nt(p){8<p.bi_valid?q(p,p.bi_buf):0<p.bi_valid&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function lt(p,S,U,j){var C=2*S,$=2*U;return p[C]<p[$]||p[C]===p[$]&&j[S]<=j[U]}function at(p,S,U){for(var j=p.heap[U],C=U<<1;C<=p.heap_len&&(C<p.heap_len&&lt(S,p.heap[C+1],p.heap[C],p.depth)&&C++,!lt(S,j,p.heap[C],p.depth));)p.heap[U]=p.heap[C],U=C,C<<=1;p.heap[U]=j}function pt(p,S,U){var j,C,$,Y,V=0;if(p.last_lit!==0)for(;j=p.pending_buf[p.d_buf+2*V]<<8|p.pending_buf[p.d_buf+2*V+1],C=p.pending_buf[p.l_buf+V],V++,j===0?G(p,C,S):(G(p,($=o[C])+b+1,S),(Y=F[$])!==0&&X(p,C-=R[$],Y),G(p,$=I(--j),U),(Y=M[$])!==0&&X(p,j-=H[$],Y)),V<p.last_lit;);G(p,x,S)}function dt(p,S){var U,j,C,$=S.dyn_tree,Y=S.stat_desc.static_tree,V=S.stat_desc.has_stree,J=S.stat_desc.elems,it=-1;for(p.heap_len=0,p.heap_max=f,U=0;U<J;U++)$[2*U]!==0?(p.heap[++p.heap_len]=it=U,p.depth[U]=0):$[2*U+1]=0;for(;p.heap_len<2;)$[2*(C=p.heap[++p.heap_len]=it<2?++it:0)]=1,p.depth[C]=0,p.opt_len--,V&&(p.static_len-=Y[2*C+1]);for(S.max_code=it,U=p.heap_len>>1;1<=U;U--)at(p,$,U);for(C=J;U=p.heap[1],p.heap[1]=p.heap[p.heap_len--],at(p,$,1),j=p.heap[1],p.heap[--p.heap_max]=U,p.heap[--p.heap_max]=j,$[2*C]=$[2*U]+$[2*j],p.depth[C]=(p.depth[U]>=p.depth[j]?p.depth[U]:p.depth[j])+1,$[2*U+1]=$[2*j+1]=C,p.heap[1]=C++,at(p,$,1),2<=p.heap_len;);p.heap[--p.heap_max]=p.heap[1],function(rt,ht){var yt,gt,vt,ot,St,Ot,mt=ht.dyn_tree,Rt=ht.max_code,te=ht.stat_desc.static_tree,ee=ht.stat_desc.has_stree,re=ht.stat_desc.extra_bits,Lt=ht.stat_desc.extra_base,kt=ht.stat_desc.max_length,At=0;for(ot=0;ot<=g;ot++)rt.bl_count[ot]=0;for(mt[2*rt.heap[rt.heap_max]+1]=0,yt=rt.heap_max+1;yt<f;yt++)kt<(ot=mt[2*mt[2*(gt=rt.heap[yt])+1]+1]+1)&&(ot=kt,At++),mt[2*gt+1]=ot,Rt<gt||(rt.bl_count[ot]++,St=0,Lt<=gt&&(St=re[gt-Lt]),Ot=mt[2*gt],rt.opt_len+=Ot*(ot+St),ee&&(rt.static_len+=Ot*(te[2*gt+1]+St)));if(At!==0){do{for(ot=kt-1;rt.bl_count[ot]===0;)ot--;rt.bl_count[ot]--,rt.bl_count[ot+1]+=2,rt.bl_count[kt]--,At-=2}while(0<At);for(ot=kt;ot!==0;ot--)for(gt=rt.bl_count[ot];gt!==0;)Rt<(vt=rt.heap[--yt])||(mt[2*vt+1]!==ot&&(rt.opt_len+=(ot-mt[2*vt+1])*mt[2*vt],mt[2*vt+1]=ot),gt--)}}(p,S),ft($,it,p.bl_count)}function r(p,S,U){var j,C,$=-1,Y=S[1],V=0,J=7,it=4;for(Y===0&&(J=138,it=3),S[2*(U+1)+1]=65535,j=0;j<=U;j++)C=Y,Y=S[2*(j+1)+1],++V<J&&C===Y||(V<it?p.bl_tree[2*C]+=V:C!==0?(C!==$&&p.bl_tree[2*C]++,p.bl_tree[2*N]++):V<=10?p.bl_tree[2*A]++:p.bl_tree[2*L]++,$=C,it=(V=0)===Y?(J=138,3):C===Y?(J=6,3):(J=7,4))}function B(p,S,U){var j,C,$=-1,Y=S[1],V=0,J=7,it=4;for(Y===0&&(J=138,it=3),j=0;j<=U;j++)if(C=Y,Y=S[2*(j+1)+1],!(++V<J&&C===Y)){if(V<it)for(;G(p,C,p.bl_tree),--V!=0;);else C!==0?(C!==$&&(G(p,C,p.bl_tree),V--),G(p,N,p.bl_tree),X(p,V-3,2)):V<=10?(G(p,A,p.bl_tree),X(p,V-3,3)):(G(p,L,p.bl_tree),X(p,V-11,7));$=C,it=(V=0)===Y?(J=138,3):C===Y?(J=6,3):(J=7,4)}}a(H);var T=!1;function y(p,S,U,j){X(p,(m<<1)+(j?1:0),3),function(C,$,Y,V){nt(C),q(C,Y),q(C,~Y),e.arraySet(C.pending_buf,C.window,$,Y,C.pending),C.pending+=Y}(p,S,U)}u._tr_init=function(p){T||(function(){var S,U,j,C,$,Y=new Array(g+1);for(C=j=0;C<w-1;C++)for(R[C]=j,S=0;S<1<<F[C];S++)o[j++]=C;for(o[j-1]=C,C=$=0;C<16;C++)for(H[C]=$,S=0;S<1<<M[C];S++)P[$++]=C;for($>>=7;C<c;C++)for(H[C]=$<<7,S=0;S<1<<M[C]-7;S++)P[256+$++]=C;for(U=0;U<=g;U++)Y[U]=0;for(S=0;S<=143;)K[2*S+1]=8,S++,Y[8]++;for(;S<=255;)K[2*S+1]=9,S++,Y[9]++;for(;S<=279;)K[2*S+1]=7,S++,Y[7]++;for(;S<=287;)K[2*S+1]=8,S++,Y[8]++;for(ft(K,v+1,Y),S=0;S<c;S++)E[2*S+1]=5,E[2*S]=st(S,5);Q=new D(K,F,b+1,v,g),W=new D(E,M,0,c,g),tt=new D(new Array(0),z,0,_,k)}(),T=!0),p.l_desc=new O(p.dyn_ltree,Q),p.d_desc=new O(p.dyn_dtree,W),p.bl_desc=new O(p.bl_tree,tt),p.bi_buf=0,p.bi_valid=0,et(p)},u._tr_stored_block=y,u._tr_flush_block=function(p,S,U,j){var C,$,Y=0;0<p.level?(p.strm.data_type===2&&(p.strm.data_type=function(V){var J,it=4093624447;for(J=0;J<=31;J++,it>>>=1)if(1&it&&V.dyn_ltree[2*J]!==0)return l;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return s;for(J=32;J<b;J++)if(V.dyn_ltree[2*J]!==0)return s;return l}(p)),dt(p,p.l_desc),dt(p,p.d_desc),Y=function(V){var J;for(r(V,V.dyn_ltree,V.l_desc.max_code),r(V,V.dyn_dtree,V.d_desc.max_code),dt(V,V.bl_desc),J=_-1;3<=J&&V.bl_tree[2*Z[J]+1]===0;J--);return V.opt_len+=3*(J+1)+5+5+4,J}(p),C=p.opt_len+3+7>>>3,($=p.static_len+3+7>>>3)<=C&&(C=$)):C=$=U+5,U+4<=C&&S!==-1?y(p,S,U,j):p.strategy===4||$===C?(X(p,2+(j?1:0),3),pt(p,K,E)):(X(p,4+(j?1:0),3),function(V,J,it,rt){var ht;for(X(V,J-257,5),X(V,it-1,5),X(V,rt-4,4),ht=0;ht<rt;ht++)X(V,V.bl_tree[2*Z[ht]+1],3);B(V,V.dyn_ltree,J-1),B(V,V.dyn_dtree,it-1)}(p,p.l_desc.max_code+1,p.d_desc.max_code+1,Y+1),pt(p,p.dyn_ltree,p.dyn_dtree)),et(p),j&&nt(p)},u._tr_tally=function(p,S,U){return p.pending_buf[p.d_buf+2*p.last_lit]=S>>>8&255,p.pending_buf[p.d_buf+2*p.last_lit+1]=255&S,p.pending_buf[p.l_buf+p.last_lit]=255&U,p.last_lit++,S===0?p.dyn_ltree[2*U]++:(p.matches++,S--,p.dyn_ltree[2*(o[U]+b+1)]++,p.dyn_dtree[2*I(S)]++),p.last_lit===p.lit_bufsize-1},u._tr_align=function(p){X(p,2,3),G(p,x,K),function(S){S.bi_valid===16?(q(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(p)}},{"../utils/common":41}],53:[function(n,h,u){h.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,h,u){(function(e){(function(l,s){if(!l.setImmediate){var a,m,w,b,v=1,c={},_=!1,f=l.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(l);g=g&&g.setTimeout?g:l,a={}.toString.call(l.process)==="[object process]"?function(N){process.nextTick(function(){k(N)})}:function(){if(l.postMessage&&!l.importScripts){var N=!0,A=l.onmessage;return l.onmessage=function(){N=!1},l.postMessage("","*"),l.onmessage=A,N}}()?(b="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",x,!1):l.attachEvent("onmessage",x),function(N){l.postMessage(b+N,"*")}):l.MessageChannel?((w=new MessageChannel).port1.onmessage=function(N){k(N.data)},function(N){w.port2.postMessage(N)}):f&&"onreadystatechange"in f.createElement("script")?(m=f.documentElement,function(N){var A=f.createElement("script");A.onreadystatechange=function(){k(N),A.onreadystatechange=null,m.removeChild(A),A=null},m.appendChild(A)}):function(N){setTimeout(k,0,N)},g.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var A=new Array(arguments.length-1),L=0;L<A.length;L++)A[L]=arguments[L+1];var F={callback:N,args:A};return c[v]=F,a(v),v++},g.clearImmediate=d}function d(N){delete c[N]}function k(N){if(_)setTimeout(k,0,N);else{var A=c[N];if(A){_=!0;try{(function(L){var F=L.callback,M=L.args;switch(M.length){case 0:F();break;case 1:F(M[0]);break;case 2:F(M[0],M[1]);break;case 3:F(M[0],M[1],M[2]);break;default:F.apply(s,M)}})(A)}finally{d(N),_=!1}}}}function x(N){N.source===l&&typeof N.data=="string"&&N.data.indexOf(b)===0&&k(+N.data.slice(b.length))}})(typeof self>"u"?e===void 0?this:e:self)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ht);var ie=Ht.exports;const se=ne(ie);var Ft={},It={};(function(t){const i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",h="["+i+"]["+n+"]*",u=new RegExp("^"+h+"$"),e=function(s,a){const m=[];let w=a.exec(s);for(;w;){const b=[];b.startIndex=a.lastIndex-w[0].length;const v=w.length;for(let c=0;c<v;c++)b.push(w[c]);m.push(b),w=a.exec(s)}return m},l=function(s){const a=u.exec(s);return!(a===null||typeof a>"u")};t.isExist=function(s){return typeof s<"u"},t.isEmptyObject=function(s){return Object.keys(s).length===0},t.merge=function(s,a,m){if(a){const w=Object.keys(a),b=w.length;for(let v=0;v<b;v++)m==="strict"?s[w[v]]=[a[w[v]]]:s[w[v]]=a[w[v]]}},t.getValue=function(s){return t.isExist(s)?s:""},t.isName=l,t.getAllMatches=e,t.nameRegexp=h})(It);const Pt=It,ae={allowBooleanAttributes:!1,unpairedTags:[]};Ft.validate=function(t,i){i=Object.assign({},ae,i);const n=[];let h=!1,u=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let e=0;e<t.length;e++)if(t[e]==="<"&&t[e+1]==="?"){if(e+=2,e=jt(t,e),e.err)return e}else if(t[e]==="<"){let l=e;if(e++,t[e]==="!"){e=Mt(t,e);continue}else{let s=!1;t[e]==="/"&&(s=!0,e++);let a="";for(;e<t.length&&t[e]!==">"&&t[e]!==" "&&t[e]!=="	"&&t[e]!==`
`&&t[e]!=="\r";e++)a+=t[e];if(a=a.trim(),a[a.length-1]==="/"&&(a=a.substring(0,a.length-1),e--),!pe(a)){let b;return a.trim().length===0?b="Invalid space after '<'.":b="Tag '"+a+"' is an invalid name.",ut("InvalidTag",b,ct(t,e))}const m=le(t,e);if(m===!1)return ut("InvalidAttr","Attributes for '"+a+"' have open quote.",ct(t,e));let w=m.value;if(e=m.index,w[w.length-1]==="/"){const b=e-w.length;w=w.substring(0,w.length-1);const v=Wt(w,i);if(v===!0)h=!0;else return ut(v.err.code,v.err.msg,ct(t,b+v.err.line))}else if(s)if(m.tagClosed){if(w.trim().length>0)return ut("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",ct(t,l));if(n.length===0)return ut("InvalidTag","Closing tag '"+a+"' has not been opened.",ct(t,l));{const b=n.pop();if(a!==b.tagName){let v=ct(t,b.tagStartPos);return ut("InvalidTag","Expected closing tag '"+b.tagName+"' (opened in line "+v.line+", col "+v.col+") instead of closing tag '"+a+"'.",ct(t,l))}n.length==0&&(u=!0)}}else return ut("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",ct(t,e));else{const b=Wt(w,i);if(b!==!0)return ut(b.err.code,b.err.msg,ct(t,e-w.length+b.err.line));if(u===!0)return ut("InvalidXml","Multiple possible root nodes found.",ct(t,e));i.unpairedTags.indexOf(a)!==-1||n.push({tagName:a,tagStartPos:l}),h=!0}for(e++;e<t.length;e++)if(t[e]==="<")if(t[e+1]==="!"){e++,e=Mt(t,e);continue}else if(t[e+1]==="?"){if(e=jt(t,++e),e.err)return e}else break;else if(t[e]==="&"){const b=he(t,e);if(b==-1)return ut("InvalidChar","char '&' is not expected.",ct(t,e));e=b}else if(u===!0&&!Ut(t[e]))return ut("InvalidXml","Extra text at the end",ct(t,e));t[e]==="<"&&e--}}else{if(Ut(t[e]))continue;return ut("InvalidChar","char '"+t[e]+"' is not expected.",ct(t,e))}if(h){if(n.length==1)return ut("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",ct(t,n[0].tagStartPos));if(n.length>0)return ut("InvalidXml","Invalid '"+JSON.stringify(n.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ut("InvalidXml","Start tag expected.",1);return!0};function Ut(t){return t===" "||t==="	"||t===`
`||t==="\r"}function jt(t,i){const n=i;for(;i<t.length;i++)if(t[i]=="?"||t[i]==" "){const h=t.substr(n,i-n);if(i>5&&h==="xml")return ut("InvalidXml","XML declaration allowed only at the start of the document.",ct(t,i));if(t[i]=="?"&&t[i+1]==">"){i++;break}else continue}return i}function Mt(t,i){if(t.length>i+5&&t[i+1]==="-"&&t[i+2]==="-"){for(i+=3;i<t.length;i++)if(t[i]==="-"&&t[i+1]==="-"&&t[i+2]===">"){i+=2;break}}else if(t.length>i+8&&t[i+1]==="D"&&t[i+2]==="O"&&t[i+3]==="C"&&t[i+4]==="T"&&t[i+5]==="Y"&&t[i+6]==="P"&&t[i+7]==="E"){let n=1;for(i+=8;i<t.length;i++)if(t[i]==="<")n++;else if(t[i]===">"&&(n--,n===0))break}else if(t.length>i+9&&t[i+1]==="["&&t[i+2]==="C"&&t[i+3]==="D"&&t[i+4]==="A"&&t[i+5]==="T"&&t[i+6]==="A"&&t[i+7]==="["){for(i+=8;i<t.length;i++)if(t[i]==="]"&&t[i+1]==="]"&&t[i+2]===">"){i+=2;break}}return i}const oe='"',ue="'";function le(t,i){let n="",h="",u=!1;for(;i<t.length;i++){if(t[i]===oe||t[i]===ue)h===""?h=t[i]:h!==t[i]||(h="");else if(t[i]===">"&&h===""){u=!0;break}n+=t[i]}return h!==""?!1:{value:n,index:i,tagClosed:u}}const fe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Wt(t,i){const n=Pt.getAllMatches(t,fe),h={};for(let u=0;u<n.length;u++){if(n[u][1].length===0)return ut("InvalidAttr","Attribute '"+n[u][2]+"' has no space in starting.",Et(n[u]));if(n[u][3]!==void 0&&n[u][4]===void 0)return ut("InvalidAttr","Attribute '"+n[u][2]+"' is without value.",Et(n[u]));if(n[u][3]===void 0&&!i.allowBooleanAttributes)return ut("InvalidAttr","boolean attribute '"+n[u][2]+"' is not allowed.",Et(n[u]));const e=n[u][2];if(!de(e))return ut("InvalidAttr","Attribute '"+e+"' is an invalid name.",Et(n[u]));if(!h.hasOwnProperty(e))h[e]=1;else return ut("InvalidAttr","Attribute '"+e+"' is repeated.",Et(n[u]))}return!0}function ce(t,i){let n=/\d/;for(t[i]==="x"&&(i++,n=/[\da-fA-F]/);i<t.length;i++){if(t[i]===";")return i;if(!t[i].match(n))break}return-1}function he(t,i){if(i++,t[i]===";")return-1;if(t[i]==="#")return i++,ce(t,i);let n=0;for(;i<t.length;i++,n++)if(!(t[i].match(/\w/)&&n<20)){if(t[i]===";")break;return-1}return i}function ut(t,i,n){return{err:{code:t,msg:i,line:n.line||n,col:n.col}}}function de(t){return Pt.isName(t)}function pe(t){return Pt.isName(t)}function ct(t,i){const n=t.substring(0,i).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Et(t){return t.startIndex+t[1].length}var Bt={};const $t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,i){return i},attributeValueProcessor:function(t,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,i,n){return t}},ge=function(t){return Object.assign({},$t,t)};Bt.buildOptions=ge;Bt.defaultOptions=$t;class me{constructor(i){this.tagname=i,this.child=[],this[":@"]={}}add(i,n){i==="__proto__"&&(i="#__proto__"),this.child.push({[i]:n})}addChild(i){i.tagname==="__proto__"&&(i.tagname="#__proto__"),i[":@"]&&Object.keys(i[":@"]).length>0?this.child.push({[i.tagname]:i.child,":@":i[":@"]}):this.child.push({[i.tagname]:i.child})}}var _e=me;const be=It;function we(t,i){const n={};if(t[i+3]==="O"&&t[i+4]==="C"&&t[i+5]==="T"&&t[i+6]==="Y"&&t[i+7]==="P"&&t[i+8]==="E"){i=i+9;let h=1,u=!1,e=!1,l="";for(;i<t.length;i++)if(t[i]==="<"&&!e){if(u&&ke(t,i)){i+=7;let s,a;[s,a,i]=ye(t,i+1),a.indexOf("&")===-1&&(n[Ae(s)]={regx:RegExp(`&${s};`,"g"),val:a})}else if(u&&Ee(t,i))i+=8;else if(u&&xe(t,i))i+=8;else if(u&&Se(t,i))i+=9;else if(ve)e=!0;else throw new Error("Invalid DOCTYPE");h++,l=""}else if(t[i]===">"){if(e?t[i-1]==="-"&&t[i-2]==="-"&&(e=!1,h--):h--,h===0)break}else t[i]==="["?u=!0:l+=t[i];if(h!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i}}function ye(t,i){let n="";for(;i<t.length&&t[i]!=="'"&&t[i]!=='"';i++)n+=t[i];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const h=t[i++];let u="";for(;i<t.length&&t[i]!==h;i++)u+=t[i];return[n,u,i]}function ve(t,i){return t[i+1]==="!"&&t[i+2]==="-"&&t[i+3]==="-"}function ke(t,i){return t[i+1]==="!"&&t[i+2]==="E"&&t[i+3]==="N"&&t[i+4]==="T"&&t[i+5]==="I"&&t[i+6]==="T"&&t[i+7]==="Y"}function Ee(t,i){return t[i+1]==="!"&&t[i+2]==="E"&&t[i+3]==="L"&&t[i+4]==="E"&&t[i+5]==="M"&&t[i+6]==="E"&&t[i+7]==="N"&&t[i+8]==="T"}function xe(t,i){return t[i+1]==="!"&&t[i+2]==="A"&&t[i+3]==="T"&&t[i+4]==="T"&&t[i+5]==="L"&&t[i+6]==="I"&&t[i+7]==="S"&&t[i+8]==="T"}function Se(t,i){return t[i+1]==="!"&&t[i+2]==="N"&&t[i+3]==="O"&&t[i+4]==="T"&&t[i+5]==="A"&&t[i+6]==="T"&&t[i+7]==="I"&&t[i+8]==="O"&&t[i+9]==="N"}function Ae(t){if(be.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}var Ne=we;const Ce=/^[-+]?0x[a-fA-F0-9]+$/,Ie=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Oe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Te(t,i={}){if(i=Object.assign({},Oe,i),!t||typeof t!="string")return t;let n=t.trim();if(i.skipLike!==void 0&&i.skipLike.test(n))return t;if(t==="0")return 0;if(i.hex&&Ce.test(n))return Fe(n,16);if(n.search(/[eE]/)!==-1){const h=n.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(h){if(i.leadingZeros)n=(h[1]||"")+h[3];else if(!(h[2]==="0"&&h[3][0]==="."))return t;return i.eNotation?Number(n):t}else return t}else{const h=Ie.exec(n);if(h){const u=h[1],e=h[2];let l=ze(h[3]);if(!i.leadingZeros&&e.length>0&&u&&n[2]!==".")return t;if(!i.leadingZeros&&e.length>0&&!u&&n[1]!==".")return t;if(i.leadingZeros&&e===t)return 0;{const s=Number(n),a=""+s;return a.search(/[eE]/)!==-1?i.eNotation?s:t:n.indexOf(".")!==-1?a==="0"&&l===""||a===l||u&&a==="-"+l?s:t:e?l===a||u+l===a?s:t:n===a||n===u+a?s:t}}else return t}}function ze(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}function Fe(t,i){if(parseInt)return parseInt(t,i);if(Number.parseInt)return Number.parseInt(t,i);if(window&&window.parseInt)return window.parseInt(t,i);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var Pe=Te;function Be(t){return typeof t=="function"?t:Array.isArray(t)?i=>{for(const n of t)if(typeof n=="string"&&i===n||n instanceof RegExp&&n.test(i))return!0}:()=>!1}var Vt=Be;const Gt=It,xt=_e,Re=Ne,Le=Pe,Ue=Vt;let je=class{constructor(i){this.options=i,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,h)=>String.fromCharCode(Number.parseInt(h,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,h)=>String.fromCharCode(Number.parseInt(h,16))}},this.addExternalEntities=Me,this.parseXml=Ve,this.parseTextData=We,this.resolveNameSpace=Ze,this.buildAttributesMap=$e,this.isItStopNode=Ke,this.replaceEntitiesValue=Xe,this.readStopNodeData=qe,this.saveTextToParentTag=Ye,this.addChild=Ge,this.ignoreAttributesFn=Ue(this.options.ignoreAttributes)}};function Me(t){const i=Object.keys(t);for(let n=0;n<i.length;n++){const h=i[n];this.lastEntities[h]={regex:new RegExp("&"+h+";","g"),val:t[h]}}}function We(t,i,n,h,u,e,l){if(t!==void 0&&(this.options.trimValues&&!h&&(t=t.trim()),t.length>0)){l||(t=this.replaceEntitiesValue(t));const s=this.options.tagValueProcessor(i,t,n,u,e);return s==null?t:typeof s!=typeof t||s!==t?s:this.options.trimValues?zt(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?zt(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Ze(t){if(this.options.removeNSPrefix){const i=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(i[0]==="xmlns")return"";i.length===2&&(t=n+i[1])}return t}const He=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function $e(t,i,n){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){const h=Gt.getAllMatches(t,He),u=h.length,e={};for(let l=0;l<u;l++){const s=this.resolveNameSpace(h[l][1]);if(this.ignoreAttributesFn(s,i))continue;let a=h[l][4],m=this.options.attributeNamePrefix+s;if(s.length)if(this.options.transformAttributeName&&(m=this.options.transformAttributeName(m)),m==="__proto__"&&(m="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);const w=this.options.attributeValueProcessor(s,a,i);w==null?e[m]=a:typeof w!=typeof a||w!==a?e[m]=w:e[m]=zt(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(e[m]=!0)}if(!Object.keys(e).length)return;if(this.options.attributesGroupName){const l={};return l[this.options.attributesGroupName]=e,l}return e}}const Ve=function(t){t=t.replace(/\r\n?/g,`
`);const i=new xt("!xml");let n=i,h="",u="";for(let e=0;e<t.length;e++)if(t[e]==="<")if(t[e+1]==="/"){const s=bt(t,">",e,"Closing Tag is not closed.");let a=t.substring(e+2,s).trim();if(this.options.removeNSPrefix){const b=a.indexOf(":");b!==-1&&(a=a.substr(b+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&(h=this.saveTextToParentTag(h,n,u));const m=u.substring(u.lastIndexOf(".")+1);if(a&&this.options.unpairedTags.indexOf(a)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${a}>`);let w=0;m&&this.options.unpairedTags.indexOf(m)!==-1?(w=u.lastIndexOf(".",u.lastIndexOf(".")-1),this.tagsNodeStack.pop()):w=u.lastIndexOf("."),u=u.substring(0,w),n=this.tagsNodeStack.pop(),h="",e=s}else if(t[e+1]==="?"){let s=Tt(t,e,!1,"?>");if(!s)throw new Error("Pi Tag is not closed.");if(h=this.saveTextToParentTag(h,n,u),!(this.options.ignoreDeclaration&&s.tagName==="?xml"||this.options.ignorePiTags)){const a=new xt(s.tagName);a.add(this.options.textNodeName,""),s.tagName!==s.tagExp&&s.attrExpPresent&&(a[":@"]=this.buildAttributesMap(s.tagExp,u,s.tagName)),this.addChild(n,a,u)}e=s.closeIndex+1}else if(t.substr(e+1,3)==="!--"){const s=bt(t,"-->",e+4,"Comment is not closed.");if(this.options.commentPropName){const a=t.substring(e+4,s-2);h=this.saveTextToParentTag(h,n,u),n.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}e=s}else if(t.substr(e+1,2)==="!D"){const s=Re(t,e);this.docTypeEntities=s.entities,e=s.i}else if(t.substr(e+1,2)==="!["){const s=bt(t,"]]>",e,"CDATA is not closed.")-2,a=t.substring(e+9,s);h=this.saveTextToParentTag(h,n,u);let m=this.parseTextData(a,n.tagname,u,!0,!1,!0,!0);m==null&&(m=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]):n.add(this.options.textNodeName,m),e=s+2}else{let s=Tt(t,e,this.options.removeNSPrefix),a=s.tagName;const m=s.rawTagName;let w=s.tagExp,b=s.attrExpPresent,v=s.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&h&&n.tagname!=="!xml"&&(h=this.saveTextToParentTag(h,n,u,!1));const c=n;if(c&&this.options.unpairedTags.indexOf(c.tagname)!==-1&&(n=this.tagsNodeStack.pop(),u=u.substring(0,u.lastIndexOf("."))),a!==i.tagname&&(u+=u?"."+a:a),this.isItStopNode(this.options.stopNodes,u,a)){let _="";if(w.length>0&&w.lastIndexOf("/")===w.length-1)a[a.length-1]==="/"?(a=a.substr(0,a.length-1),u=u.substr(0,u.length-1),w=a):w=w.substr(0,w.length-1),e=s.closeIndex;else if(this.options.unpairedTags.indexOf(a)!==-1)e=s.closeIndex;else{const g=this.readStopNodeData(t,m,v+1);if(!g)throw new Error(`Unexpected end of ${m}`);e=g.i,_=g.tagContent}const f=new xt(a);a!==w&&b&&(f[":@"]=this.buildAttributesMap(w,u,a)),_&&(_=this.parseTextData(_,a,u,!0,b,!0,!0)),u=u.substr(0,u.lastIndexOf(".")),f.add(this.options.textNodeName,_),this.addChild(n,f,u)}else{if(w.length>0&&w.lastIndexOf("/")===w.length-1){a[a.length-1]==="/"?(a=a.substr(0,a.length-1),u=u.substr(0,u.length-1),w=a):w=w.substr(0,w.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const _=new xt(a);a!==w&&b&&(_[":@"]=this.buildAttributesMap(w,u,a)),this.addChild(n,_,u),u=u.substr(0,u.lastIndexOf("."))}else{const _=new xt(a);this.tagsNodeStack.push(n),a!==w&&b&&(_[":@"]=this.buildAttributesMap(w,u,a)),this.addChild(n,_,u),n=_}h="",e=v}}else h+=t[e];return i.child};function Ge(t,i,n){const h=this.options.updateTag(i.tagname,n,i[":@"]);h===!1||(typeof h=="string"&&(i.tagname=h),t.addChild(i))}const Xe=function(t){if(this.options.processEntities){for(let i in this.docTypeEntities){const n=this.docTypeEntities[i];t=t.replace(n.regx,n.val)}for(let i in this.lastEntities){const n=this.lastEntities[i];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let i in this.htmlEntities){const n=this.htmlEntities[i];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Ye(t,i,n,h){return t&&(h===void 0&&(h=i.child.length===0),t=this.parseTextData(t,i.tagname,n,!1,i[":@"]?Object.keys(i[":@"]).length!==0:!1,h),t!==void 0&&t!==""&&i.add(this.options.textNodeName,t),t=""),t}function Ke(t,i,n){const h="*."+n;for(const u in t){const e=t[u];if(h===e||i===e)return!0}return!1}function Je(t,i,n=">"){let h,u="";for(let e=i;e<t.length;e++){let l=t[e];if(h)l===h&&(h="");else if(l==='"'||l==="'")h=l;else if(l===n[0])if(n[1]){if(t[e+1]===n[1])return{data:u,index:e}}else return{data:u,index:e};else l==="	"&&(l=" ");u+=l}}function bt(t,i,n,h){const u=t.indexOf(i,n);if(u===-1)throw new Error(h);return u+i.length-1}function Tt(t,i,n,h=">"){const u=Je(t,i+1,h);if(!u)return;let e=u.data;const l=u.index,s=e.search(/\s/);let a=e,m=!0;s!==-1&&(a=e.substring(0,s),e=e.substring(s+1).trimStart());const w=a;if(n){const b=a.indexOf(":");b!==-1&&(a=a.substr(b+1),m=a!==u.data.substr(b+1))}return{tagName:a,tagExp:e,closeIndex:l,attrExpPresent:m,rawTagName:w}}function qe(t,i,n){const h=n;let u=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const e=bt(t,">",n,`${i} is not closed`);if(t.substring(n+2,e).trim()===i&&(u--,u===0))return{tagContent:t.substring(h,n),i:e};n=e}else if(t[n+1]==="?")n=bt(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=bt(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=bt(t,"]]>",n,"StopNode is not closed.")-2;else{const e=Tt(t,n,">");e&&((e&&e.tagName)===i&&e.tagExp[e.tagExp.length-1]!=="/"&&u++,n=e.closeIndex)}}function zt(t,i,n){if(i&&typeof t=="string"){const h=t.trim();return h==="true"?!0:h==="false"?!1:Le(t,n)}else return Gt.isExist(t)?t:""}var De=je,Xt={};function Qe(t,i){return Yt(t,i)}function Yt(t,i,n){let h;const u={};for(let e=0;e<t.length;e++){const l=t[e],s=tr(l);let a="";if(n===void 0?a=s:a=n+"."+s,s===i.textNodeName)h===void 0?h=l[s]:h+=""+l[s];else{if(s===void 0)continue;if(l[s]){let m=Yt(l[s],i,a);const w=rr(m,i);l[":@"]?er(m,l[":@"],a,i):Object.keys(m).length===1&&m[i.textNodeName]!==void 0&&!i.alwaysCreateTextNode?m=m[i.textNodeName]:Object.keys(m).length===0&&(i.alwaysCreateTextNode?m[i.textNodeName]="":m=""),u[s]!==void 0&&u.hasOwnProperty(s)?(Array.isArray(u[s])||(u[s]=[u[s]]),u[s].push(m)):i.isArray(s,a,w)?u[s]=[m]:u[s]=m}}}return typeof h=="string"?h.length>0&&(u[i.textNodeName]=h):h!==void 0&&(u[i.textNodeName]=h),u}function tr(t){const i=Object.keys(t);for(let n=0;n<i.length;n++){const h=i[n];if(h!==":@")return h}}function er(t,i,n,h){if(i){const u=Object.keys(i),e=u.length;for(let l=0;l<e;l++){const s=u[l];h.isArray(s,n+"."+s,!0,!0)?t[s]=[i[s]]:t[s]=i[s]}}}function rr(t,i){const{textNodeName:n}=i,h=Object.keys(t).length;return!!(h===0||h===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}Xt.prettify=Qe;const{buildOptions:nr}=Bt,ir=De,{prettify:sr}=Xt,ar=Ft;let or=class{constructor(i){this.externalEntities={},this.options=nr(i)}parse(i,n){if(typeof i!="string")if(i.toString)i=i.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const e=ar.validate(i,n);if(e!==!0)throw Error(`${e.err.msg}:${e.err.line}:${e.err.col}`)}const h=new ir(this.options);h.addExternalEntities(this.externalEntities);const u=h.parseXml(i);return this.options.preserveOrder||u===void 0?u:sr(u,this.options)}addEntity(i,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(i.indexOf("&")!==-1||i.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[i]=n}};var ur=or;const lr=`
`;function fr(t,i){let n="";return i.format&&i.indentBy.length>0&&(n=lr),Kt(t,i,"",n)}function Kt(t,i,n,h){let u="",e=!1;for(let l=0;l<t.length;l++){const s=t[l],a=cr(s);if(a===void 0)continue;let m="";if(n.length===0?m=a:m=`${n}.${a}`,a===i.textNodeName){let _=s[a];hr(m,i)||(_=i.tagValueProcessor(a,_),_=Jt(_,i)),e&&(u+=h),u+=_,e=!1;continue}else if(a===i.cdataPropName){e&&(u+=h),u+=`<![CDATA[${s[a][0][i.textNodeName]}]]>`,e=!1;continue}else if(a===i.commentPropName){u+=h+`<!--${s[a][0][i.textNodeName]}-->`,e=!0;continue}else if(a[0]==="?"){const _=Zt(s[":@"],i),f=a==="?xml"?"":h;let g=s[a][0][i.textNodeName];g=g.length!==0?" "+g:"",u+=f+`<${a}${g}${_}?>`,e=!0;continue}let w=h;w!==""&&(w+=i.indentBy);const b=Zt(s[":@"],i),v=h+`<${a}${b}`,c=Kt(s[a],i,m,w);i.unpairedTags.indexOf(a)!==-1?i.suppressUnpairedNode?u+=v+">":u+=v+"/>":(!c||c.length===0)&&i.suppressEmptyNode?u+=v+"/>":c&&c.endsWith(">")?u+=v+`>${c}${h}</${a}>`:(u+=v+">",c&&h!==""&&(c.includes("/>")||c.includes("</"))?u+=h+i.indentBy+c+h:u+=c,u+=`</${a}>`),e=!0}return u}function cr(t){const i=Object.keys(t);for(let n=0;n<i.length;n++){const h=i[n];if(t.hasOwnProperty(h)&&h!==":@")return h}}function Zt(t,i){let n="";if(t&&!i.ignoreAttributes)for(let h in t){if(!t.hasOwnProperty(h))continue;let u=i.attributeValueProcessor(h,t[h]);u=Jt(u,i),u===!0&&i.suppressBooleanAttributes?n+=` ${h.substr(i.attributeNamePrefix.length)}`:n+=` ${h.substr(i.attributeNamePrefix.length)}="${u}"`}return n}function hr(t,i){t=t.substr(0,t.length-i.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let h in i.stopNodes)if(i.stopNodes[h]===t||i.stopNodes[h]==="*."+n)return!0;return!1}function Jt(t,i){if(t&&t.length>0&&i.processEntities)for(let n=0;n<i.entities.length;n++){const h=i.entities[n];t=t.replace(h.regex,h.val)}return t}var dr=fr;const pr=dr,gr=Vt,mr={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,i){return i},attributeValueProcessor:function(t,i){return i},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function _t(t){this.options=Object.assign({},mr,t),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=gr(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=wr),this.processTextOrObjNode=_r,this.options.format?(this.indentate=br,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}_t.prototype.build=function(t){return this.options.preserveOrder?pr(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)};_t.prototype.j2x=function(t,i,n){let h="",u="";const e=n.join(".");for(let l in t)if(Object.prototype.hasOwnProperty.call(t,l))if(typeof t[l]>"u")this.isAttribute(l)&&(u+="");else if(t[l]===null)this.isAttribute(l)||l===this.options.cdataPropName?u+="":l[0]==="?"?u+=this.indentate(i)+"<"+l+"?"+this.tagEndChar:u+=this.indentate(i)+"<"+l+"/"+this.tagEndChar;else if(t[l]instanceof Date)u+=this.buildTextValNode(t[l],l,"",i);else if(typeof t[l]!="object"){const s=this.isAttribute(l);if(s&&!this.ignoreAttributesFn(s,e))h+=this.buildAttrPairStr(s,""+t[l]);else if(!s)if(l===this.options.textNodeName){let a=this.options.tagValueProcessor(l,""+t[l]);u+=this.replaceEntitiesValue(a)}else u+=this.buildTextValNode(t[l],l,"",i)}else if(Array.isArray(t[l])){const s=t[l].length;let a="",m="";for(let w=0;w<s;w++){const b=t[l][w];if(!(typeof b>"u"))if(b===null)l[0]==="?"?u+=this.indentate(i)+"<"+l+"?"+this.tagEndChar:u+=this.indentate(i)+"<"+l+"/"+this.tagEndChar;else if(typeof b=="object")if(this.options.oneListGroup){const v=this.j2x(b,i+1,n.concat(l));a+=v.val,this.options.attributesGroupName&&b.hasOwnProperty(this.options.attributesGroupName)&&(m+=v.attrStr)}else a+=this.processTextOrObjNode(b,l,i,n);else if(this.options.oneListGroup){let v=this.options.tagValueProcessor(l,b);v=this.replaceEntitiesValue(v),a+=v}else a+=this.buildTextValNode(b,l,"",i)}this.options.oneListGroup&&(a=this.buildObjectNode(a,l,m,i)),u+=a}else if(this.options.attributesGroupName&&l===this.options.attributesGroupName){const s=Object.keys(t[l]),a=s.length;for(let m=0;m<a;m++)h+=this.buildAttrPairStr(s[m],""+t[l][s[m]])}else u+=this.processTextOrObjNode(t[l],l,i,n);return{attrStr:h,val:u}};_t.prototype.buildAttrPairStr=function(t,i){return i=this.options.attributeValueProcessor(t,""+i),i=this.replaceEntitiesValue(i),this.options.suppressBooleanAttributes&&i==="true"?" "+t:" "+t+'="'+i+'"'};function _r(t,i,n,h){const u=this.j2x(t,n+1,h.concat(i));return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],i,u.attrStr,n):this.buildObjectNode(u.val,i,u.attrStr,n)}_t.prototype.buildObjectNode=function(t,i,n,h){if(t==="")return i[0]==="?"?this.indentate(h)+"<"+i+n+"?"+this.tagEndChar:this.indentate(h)+"<"+i+n+this.closeTag(i)+this.tagEndChar;{let u="</"+i+this.tagEndChar,e="";return i[0]==="?"&&(e="?",u=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(h)+"<"+i+n+e+">"+t+u:this.options.commentPropName!==!1&&i===this.options.commentPropName&&e.length===0?this.indentate(h)+`<!--${t}-->`+this.newLine:this.indentate(h)+"<"+i+n+e+this.tagEndChar+t+this.indentate(h)+u}};_t.prototype.closeTag=function(t){let i="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(i="/"):this.options.suppressEmptyNode?i="/":i=`></${t}`,i};_t.prototype.buildTextValNode=function(t,i,n,h){if(this.options.cdataPropName!==!1&&i===this.options.cdataPropName)return this.indentate(h)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&i===this.options.commentPropName)return this.indentate(h)+`<!--${t}-->`+this.newLine;if(i[0]==="?")return this.indentate(h)+"<"+i+n+"?"+this.tagEndChar;{let u=this.options.tagValueProcessor(i,t);return u=this.replaceEntitiesValue(u),u===""?this.indentate(h)+"<"+i+n+this.closeTag(i)+this.tagEndChar:this.indentate(h)+"<"+i+n+">"+u+"</"+i+this.tagEndChar}};_t.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const n=this.options.entities[i];t=t.replace(n.regex,n.val)}return t};function br(t){return this.options.indentBy.repeat(t)}function wr(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}var yr=_t;const vr=Ft,kr=ur,Er=yr;var xr={XMLParser:kr,XMLValidator:vr,XMLBuilder:Er};const Sr="scorm-courses",qt="metadata.json",Dt="categories.json",Ar="http://192.168.1.11:3001",wt=async()=>await(await navigator.storage.getDirectory()).getDirectoryHandle(Sr,{create:!0}),zr=async t=>{try{const h=await(await(await wt()).getFileHandle(qt,{create:!0})).createWritable();await h.write(JSON.stringify(t)),await h.close();const u=Array.from(new Set(t.map(e=>e.category).filter(Boolean))).sort();return await Nr(u),u}catch(i){throw console.error("Error saving metadata:",i),i}},Nr=async t=>{try{const h=await(await(await wt()).getFileHandle(Dt,{create:!0})).createWritable();await h.write(JSON.stringify(t)),await h.close()}catch(i){console.error("Error saving categories:",i)}},Fr=async()=>{try{const t=await wt();try{const h=await(await(await t.getFileHandle(qt)).getFile()).text();return JSON.parse(h)}catch{return[]}}catch(t){throw console.error("Error loading metadata:",t),t}},Pr=async()=>{try{const t=await wt();try{const h=await(await(await t.getFileHandle(Dt)).getFile()).text();return JSON.parse(h)}catch{return[]}}catch(t){return console.error("Error loading categories:",t),[]}},Br=async t=>{try{const i=await wt();try{return await i.getDirectoryHandle(t),!0}catch{return!1}}catch(i){return console.error("Error checking course download status:",i),!1}};function Qt(t){if(!Array.isArray(t))return t&&t["@_identifierref"]?t:null;for(const i of t){if(i["@_identifierref"])return i;if(i.item){const n=Qt(i.item);if(n)return n}}return null}const Cr=async t=>{var b,v,c;const n=new xr.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"@_"}).parse(t),h=n.manifest;if(!h)throw console.error("[parseScormManifest] Invalid manifest structure: missing manifest root.",n),new Error("Invalid manifest structure: missing manifest root.");let u="1.2";const e=(b=h.metadata)==null?void 0:b.schemaversion;if(console.log("[parseScormManifest] Raw schemaversion from manifest:",e,"(type:",typeof e,")"),e){const _=String(e).toLowerCase();_.includes("1.2")?u="1.2":_.includes("2004")||_.includes("cam 1.3")||_.includes("cam1.3")?u="2004":console.warn(`[parseScormManifest] Unrecognized schemaversion '${e}'. Defaulting to version '${u}'.`)}else console.warn("[parseScormManifest] schemaversion not found or empty in manifest.metadata. Defaulting version.");console.log("[parseScormManifest] Detected SCORM version:",u);let l="";const s=h.organizations;let a=null;if(s){const _=Array.isArray(s.organization)?s.organization:[s.organization],f=s["@_default"];if(f&&(a=_.find(g=>g["@_identifier"]===f)),!a&&_.length>0&&(a=_[0],console.warn("[parseScormManifest] Default organization not found by id or organizations node not an array, using the first one.",a)),a&&a.item){let g=Qt(a.item);if(g){const d=g["@_identifierref"];if(d&&((v=h.resources)!=null&&v.resource)){const x=(Array.isArray(h.resources.resource)?h.resources.resource:[h.resources.resource]).find(N=>N["@_identifier"]===d);x?(l=x["@_href"]||"",console.log("[parseScormManifest] Found launchUrl:",l,"for resourceId:",d)):console.warn("[parseScormManifest] Launch resource not found for id:",d)}else console.warn("[parseScormManifest] Resource ID not found on launch item or resources section missing.",g,h.resources)}else console.warn("[parseScormManifest] Launch item not found in default organization.",a)}}else console.warn("[parseScormManifest] Organizations node missing in manifest.",h);if(!l)throw console.error("[parseScormManifest] Could not find launch URL in manifest after parsing attempt.",h),new Error("Could not find launch URL in manifest.");const m=(a==null?void 0:a.title)||"Unnamed Course",w=((c=a==null?void 0:a.item)==null?void 0:c.prerequisites)||[];return{launchUrl:l,version:u,title:m,prerequisites:Array.isArray(w)?w:[w]}},Rr=async(t,i)=>{try{const h=await(await wt()).getDirectoryHandle(t.id,{create:!0});let u=t.scormFile;if(u&&!u.startsWith("http")&&!u.startsWith("https")&&(u=`${Ar}${t.scormFile}`),console.log("Attempting to download SCORM from URL:",u),!u)throw new Error("SCORM file URL is missing for course: "+t.name);const e=await fetch(u);if(!e.ok)throw console.error("Failed to download SCORM package. Status:",e.status,"URL:",u),new Error(`Failed to download SCORM package. Status: ${e.status}`);const l=e.body.getReader(),s=Number(e.headers.get("Content-Length"))||0,a=await h.getFileHandle("package.zip",{create:!0}),m=await a.createWritable();let w=0;for(;;){const{done:F,value:M}=await l.read();if(F)break;await m.write(M),w+=M.length;const z=Math.round(w/s*50);i(z)}await m.close();const b=await a.getFile(),v=await se.loadAsync(await b.arrayBuffer()),c=v.file("imsmanifest.xml");if(!c)throw new Error("Invalid SCORM package: No manifest found");const _=await c.async("string"),f=await Cr(_),d=await(await h.getFileHandle("manifest.json",{create:!0})).createWritable();await d.write(JSON.stringify(f)),await d.close();let k=0;const x=Object.keys(v.files).length;for(const[F,M]of Object.entries(v.files))if(!M.dir){const z=await M.async("arraybuffer"),Z=F.split("/");let K=h;for(let R=0;R<Z.length-1;R++)K=await K.getDirectoryHandle(Z[R],{create:!0});const P=await(await K.getFileHandle(Z[Z.length-1],{create:!0})).createWritable();await P.write(z),await P.close(),k++;const o=50+Math.round(k/x*50);i(o)}const N={...t,manifest:f};console.log("[OPFS Service] Saving course.json with data:",N);const L=await(await h.getFileHandle("course.json",{create:!0})).createWritable();await L.write(JSON.stringify(N)),await L.close()}catch(n){throw console.error("Error downloading course:",n),n}},Lr=async t=>{console.log(`[OPFS Service] Attempting to get course content for courseId: ${t}`);try{const i=await wt();console.log("[OPFS Service] OPFS directory ensured.");const n=await i.getDirectoryHandle(t);console.log(`[OPFS Service] Course directory handle obtained for courseId: ${t}`);const h=await n.getFileHandle("course.json");console.log("[OPFS Service] course.json file handle obtained.");const u=await h.getFile();console.log("[OPFS Service] course.json file obtained.");const e=JSON.parse(await u.text());return console.log("[OPFS Service] course.json parsed successfully.",e),(!e||!e.manifest)&&console.warn("[OPFS Service] course.json is missing courseData or manifest property.",e),e}catch(i){return console.error(`[OPFS Service] Error getting course content for courseId ${t}:`,i),null}};export{Pr as a,Nr as b,Rr as d,Lr as g,Br as i,Fr as l,zr as s};
